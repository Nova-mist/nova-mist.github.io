<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"nova-mist.github.io","root":"/","images":"/images","scheme":"Gemini","version":"8.2.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"}};
  </script>
<meta name="description" content="Docker å­¦ä¹ ç¬”è®° DevOps é¡¹ç›®+ç¯å¢ƒé…ç½® DockerHub é•œåƒ å®¹å™¨éš”ç¦»  Docker å®¹å™¨æŠ€æœ¯ä¹Ÿæ˜¯ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯  åŸºäº Go å¼€å‘ ReferenceHome - Docker Docker Hub ä»€ä¹ˆæ˜¯dockerï¼Œå®ƒä¸è™šæ‹Ÿæœºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ_itmkyuançš„åšå®¢-CSDNåšå®¢_dockerå’Œè™šæ‹Ÿæœºçš„åŒºåˆ« æ¦‚å¿µ Docker è§£å†³ä¾èµ–çš„å…¼å®¹é—®é¢˜ï¼š  å°†åº”ç”¨çš„å‡½æ•°åº“ã€ä¾èµ–ã€é…">
<meta property="og:type" content="article">
<meta property="og:title" content="Docker å­¦ä¹ ç¬”è®°">
<meta property="og:url" content="https://nova-mist.github.io/2022/08/11/docker-note-2022/index.html">
<meta property="og:site_name" content="novamist blog">
<meta property="og:description" content="Docker å­¦ä¹ ç¬”è®° DevOps é¡¹ç›®+ç¯å¢ƒé…ç½® DockerHub é•œåƒ å®¹å™¨éš”ç¦»  Docker å®¹å™¨æŠ€æœ¯ä¹Ÿæ˜¯ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯  åŸºäº Go å¼€å‘ ReferenceHome - Docker Docker Hub ä»€ä¹ˆæ˜¯dockerï¼Œå®ƒä¸è™šæ‹Ÿæœºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ_itmkyuançš„åšå®¢-CSDNåšå®¢_dockerå’Œè™šæ‹Ÿæœºçš„åŒºåˆ« æ¦‚å¿µ Docker è§£å†³ä¾èµ–çš„å…¼å®¹é—®é¢˜ï¼š  å°†åº”ç”¨çš„å‡½æ•°åº“ã€ä¾èµ–ã€é…">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111014443.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111014504.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111014215.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111014521.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111014041.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111016355.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015123.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015023.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015136.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015121.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015727.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015163.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015491.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015914.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015944.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015754.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111016787.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015367.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015051.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015907.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111016981.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111016517.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111016518.png">
<meta property="article:published_time" content="2022-08-11T02:18:36.000Z">
<meta property="article:modified_time" content="2022-08-11T02:22:31.349Z">
<meta property="article:author" content="Nova-mist">
<meta property="article:tag" content="server">
<meta property="article:tag" content="docker">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111014443.png">


<link rel="canonical" href="https://nova-mist.github.io/2022/08/11/docker-note-2022/">


<script data-pjax class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<title>Docker å­¦ä¹ ç¬”è®° | novamist blog</title>
  




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">novamist blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£<span class="badge">74</span></a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾<span class="badge">31</span></a></li>
        <li class="menu-item menu-item-stars"><a href="/stars/" rel="section"><i class="fa fa-heart fa-fw"></i>æ”¶é›†</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Docker-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0"><span class="nav-number">1.</span> <span class="nav-text">Docker å­¦ä¹ ç¬”è®°</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Reference"><span class="nav-number">1.1.</span> <span class="nav-text">Reference</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5"><span class="nav-number">1.2.</span> <span class="nav-text">æ¦‚å¿µ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">1.3.</span> <span class="nav-text">å®‰è£…</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Windows"><span class="nav-number">1.4.</span> <span class="nav-text">Windows</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Linux"><span class="nav-number">1.4.1.</span> <span class="nav-text">Linux</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker-%E4%BD%BF%E7%94%A8"><span class="nav-number">1.5.</span> <span class="nav-text">Docker  ä½¿ç”¨</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.1.</span> <span class="nav-text">é•œåƒå‘½ä»¤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.2.</span> <span class="nav-text">å®¹å™¨å‘½ä»¤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.3.</span> <span class="nav-text">å…¶ä»–å‘½ä»¤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%83%A8%E7%BD%B2-nginx"><span class="nav-number">1.5.4.</span> <span class="nav-text">éƒ¨ç½² nginx</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%83%A8%E7%BD%B2-tomcat"><span class="nav-number">1.5.5.</span> <span class="nav-text">éƒ¨ç½² tomcat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#elasticsearch"><span class="nav-number">1.5.6.</span> <span class="nav-text">elasticsearch</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="nav-number">1.6.</span> <span class="nav-text">å¯è§†åŒ–</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Dokcer-%E9%95%9C%E5%83%8F"><span class="nav-number">1.7.</span> <span class="nav-text">Dokcer é•œåƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%95%9C%E5%83%8F%E5%8A%A0%E8%BD%BD%E5%8E%9F%E7%90%86"><span class="nav-number">1.7.1.</span> <span class="nav-text">é•œåƒåŠ è½½åŸç†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E5%B1%82%E7%90%86%E8%A7%A3"><span class="nav-number">1.7.2.</span> <span class="nav-text">åˆ†å±‚ç†è§£</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#commit-%E9%95%9C%E5%83%8F"><span class="nav-number">1.7.3.</span> <span class="nav-text">commit é•œåƒ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%B9%E5%99%A8%E6%95%B0%E6%8D%AE%E5%8D%B7"><span class="nav-number">1.8.</span> <span class="nav-text">å®¹å™¨æ•°æ®å·</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%8D%B7"><span class="nav-number">1.8.1.</span> <span class="nav-text">ä½¿ç”¨æ•°æ®å·</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8C%E6%AD%A5-MySQL"><span class="nav-number">1.8.2.</span> <span class="nav-text">åŒæ­¥  MySQL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B7%E5%90%8D%E6%8C%82%E8%BD%BD-amp-%E5%8C%BF%E5%90%8D%E6%8C%82%E8%BD%BD"><span class="nav-number">1.8.3.</span> <span class="nav-text">å…·åæŒ‚è½½&amp;åŒ¿åæŒ‚è½½</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-dockerfile-%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD"><span class="nav-number">1.8.4.</span> <span class="nav-text">ä½¿ç”¨ dockerfile è‡ªåŠ¨æŒ‚è½½</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%B9%E5%99%A8%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5"><span class="nav-number">1.8.5.</span> <span class="nav-text">å®¹å™¨æ•°æ®åŒæ­¥</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DockerFile"><span class="nav-number">1.9.</span> <span class="nav-text">DockerFile</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#dockerfile-%E5%91%BD%E4%BB%A4"><span class="nav-number">1.9.1.</span> <span class="nav-text">dockerfile å‘½ä»¤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E5%BB%BA%E9%95%9C%E5%83%8F-ubuntu"><span class="nav-number">1.9.2.</span> <span class="nav-text">æ„å»ºé•œåƒ ubuntu</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%B9%E5%99%A8%E5%90%AF%E5%8A%A8%E6%97%B6%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4"><span class="nav-number">1.9.3.</span> <span class="nav-text">å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œå‘½ä»¤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E5%BB%BA-Tomcat-%E9%95%9C%E5%83%8F"><span class="nav-number">1.9.4.</span> <span class="nav-text">æ„å»º Tomcat é•œåƒ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A8%E9%80%81%E9%95%9C%E5%83%8F"><span class="nav-number">1.10.</span> <span class="nav-text">æ¨é€é•œåƒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker-%E7%BD%91%E7%BB%9C"><span class="nav-number">1.11.</span> <span class="nav-text">Docker ç½‘ç»œ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5-1"><span class="nav-number">1.11.1.</span> <span class="nav-text">æ¦‚å¿µ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%80%93link"><span class="nav-number">1.11.2.</span> <span class="nav-text">â€“link</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BD%91%E7%BB%9C"><span class="nav-number">1.11.3.</span> <span class="nav-text">è‡ªå®šä¹‰ç½‘ç»œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E8%BF%9E%E9%80%9A"><span class="nav-number">1.11.4.</span> <span class="nav-text">ç½‘ç»œè¿é€š</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis-%E9%9B%86%E7%BE%A4"><span class="nav-number">1.12.</span> <span class="nav-text">Redis é›†ç¾¤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SpringBoot-%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%89%93%E5%8C%85"><span class="nav-number">1.13.</span> <span class="nav-text">SpringBoot å¾®æœåŠ¡æ‰“åŒ…</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Nova-mist"
      src="/uploads/avatar.png">
  <p class="site-author-name" itemprop="name">Nova-mist</p>
  <div class="site-description" itemprop="description">My blog about daily life and learning. :b</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">74</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">31</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/Nova-mist" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;Nova-mist" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fas fa-cat fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.bilibili.com/" title="https:&#x2F;&#x2F;www.bilibili.com&#x2F;" rel="noopener" target="_blank">Bilibili</a>
        </li>
    </ul>
  </div>

        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://nova-mist.github.io/2022/08/11/docker-note-2022/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="Nova-mist">
      <meta itemprop="description" content="My blog about daily life and learning. :b">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="novamist blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Docker å­¦ä¹ ç¬”è®°
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>
      

      <time title="åˆ›å»ºæ—¶é—´ï¼š2022-08-11 10:18:36 / ä¿®æ”¹æ—¶é—´ï¼š10:22:31" itemprop="dateCreated datePublished" datetime="2022-08-11T10:18:36+08:00">2022-08-11</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="Docker-å­¦ä¹ ç¬”è®°"><a href="#Docker-å­¦ä¹ ç¬”è®°" class="headerlink" title="Docker å­¦ä¹ ç¬”è®°"></a>Docker å­¦ä¹ ç¬”è®°</h1><p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111014443.png" alt="image-20220804000325201"></p>
<p>DevOps</p>
<p>é¡¹ç›®+ç¯å¢ƒé…ç½®</p>
<p>DockerHub é•œåƒ</p>
<p>å®¹å™¨éš”ç¦»</p>
<blockquote>
<p>Docker å®¹å™¨æŠ€æœ¯ä¹Ÿæ˜¯ä¸€ç§<strong>è™šæ‹ŸåŒ–æŠ€æœ¯</strong></p>
</blockquote>
<p>åŸºäº Go å¼€å‘</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a target="_blank" rel="noopener" href="https://www.docker.com/">Home - Docker</a></p>
<p><a target="_blank" rel="noopener" href="https://hub.docker.com/">Docker Hub</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_46665411/article/details/125199737">ä»€ä¹ˆæ˜¯dockerï¼Œå®ƒä¸è™šæ‹Ÿæœºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ_itmkyuançš„åšå®¢-CSDNåšå®¢_dockerå’Œè™šæ‹Ÿæœºçš„åŒºåˆ«</a></p>
<h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111014504.jpg" alt="hypervisor - Vmware vs Docker"></p>
<p>Docker è§£å†³ä¾èµ–çš„å…¼å®¹é—®é¢˜ï¼š</p>
<ol>
<li>å°†åº”ç”¨çš„å‡½æ•°åº“ã€ä¾èµ–ã€é…ç½®ä¸åº”ç”¨ä¸€èµ·æ‰“åŒ…ã€‚</li>
<li>å°†æ¯ä¸ªåº”ç”¨æ”¾åˆ°ä¸€ä¸ªå®¹å™¨å»è¿è¡Œï¼Œé¿å…äº’ç›¸å¹²æ‰°ã€‚</li>
</ol>
<p>ç³»ç»Ÿç¯å¢ƒç‰¹ç‚¹ï¼š</p>
<ol>
<li>Linuxç³»ç»Ÿçš„å†…æ ¸éƒ½æ˜¯ç›¸åŒçš„ã€‚</li>
<li>æ“ä½œç³»ç»Ÿæä¾›çš„å‡½æ•°åº“æ˜¯å¯¹å†…æ ¸æŒ‡ä»¤çš„å°è£…ã€‚</li>
</ol>
<p>Docker ä¸è™šæ‹Ÿæœºçš„åŒºåˆ«ï¼š</p>
<ul>
<li>è™šæ‹Ÿæœºæ˜¯åœ¨æ“ä½œç³»ç»Ÿä¸­æ¨¡æ‹Ÿç¡¬ä»¶è®¾å¤‡ï¼Œå†è¿è¡Œå¦ä¸€ä¸ªæ“ä½œç³»ç»Ÿã€‚</li>
<li>Dockeråªå°è£…äº†åº“å‡½æ•°ï¼Œç›´æ¥ä½¿ç”¨ä¸»æœºçš„æ“ä½œç³»ç»Ÿå†…æ ¸ã€‚</li>
</ul>
<p><strong>DevOps å¼€å‘è¿ç»´</strong></p>
<p>ç›´æ¥å¯¹é•œåƒè¿›è¡Œæ“ä½œã€‚</p>
<p>å®¹å™¨åŒ–æŠ€æœ¯ä½¿å¼€å‘å’Œæµ‹è¯•çš„ç¯å¢ƒé«˜åº¦ä¸€è‡´ã€‚</p>
<p>Docker æ˜¯<strong>å†…æ ¸çº§åˆ«</strong>çš„è™šæ‹ŸåŒ–ï¼Œæœ‰ç€æ›´é«˜æ•ˆçš„è®¡ç®—èµ„æºåˆ©ç”¨ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111014215.png" alt="image-20220804112103719"></p>
<p>Docker çš„åŸºæœ¬ç»„æˆï¼š</p>
<ul>
<li>é•œåƒ Image</li>
<li>å®¹å™¨ Container</li>
<li>ä»“åº“ Repository </li>
</ul>
<p> <strong>åº•å±‚åŸç†</strong></p>
<p>Docker æ˜¯ä¸€ä¸ª Client - Server ç»“æ„çš„ç³»ç»Ÿã€‚Docker çš„å®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨ä¸»æœºï¼Œå®¢æˆ·ç«¯é€šè¿‡ socket è¿›è¡Œè®¿é—®ã€‚</p>
<span id="more"></span>



<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><p>ğŸŸ¢å®‰è£… Docker Desktopï¼Œå¯ä»¥å’Œ wsl2 äº¤äº’ä½¿ç”¨ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://praveendavidmathew.medium.com/enabling-network-connectivity-in-wsl-2-windows-db2226bea92a">Enabling network connectivity in WSL 2 windows and running docker in windows. | by Praveen David Mathew | Medium</a></p>
<h3 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h3><p>Xshell è¿æ¥é˜¿é‡Œäº‘ã€‚</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æŸ¥çœ‹å†…æ ¸</span>
<span class="token function">uname</span> -r

<span class="token comment"># æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬</span>
<span class="token function">cat</span> /etc/os-release<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><a target="_blank" rel="noopener" href="https://docs.docker.com/desktop/install/linux-install/">Install Docker Desktop on Linux | Docker Documentation</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.docker.com/engine/install/ubuntu/">Install Docker Engine on Ubuntu | Docker Documentation</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/b1134977524/article/details/120442417">Ubuntuä¸‹å®‰è£…docker(é˜¿é‡Œäº‘é•œåƒ)_b1134977524çš„åšå®¢-CSDNåšå®¢_ubuntu é˜¿é‡Œäº‘docker</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token comment">#å®‰è£…å¿…è¦å·¥å…·</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> -y <span class="token function">install</span> apt-transport-https ca-certificates <span class="token function">curl</span> software-properties-common
<span class="token comment">#å®‰è£…GPGè¯ä¹¦</span>
<span class="token function">curl</span> -fsSL http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -

<span class="token function">sudo</span> add-apt-repository <span class="token string">"deb [arch=amd64] http://mirrors.aliyun.com/docker-ce/linux/ubuntu <span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span> stable"</span>

<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> docker-ce docker-ce-cli containerd.io

<span class="token comment"># ç‰ˆæœ¬ä¿¡æ¯</span>
docker version

docker run hello-world<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="Docker-ä½¿ç”¨"><a href="#Docker-ä½¿ç”¨" class="headerlink" title="Docker  ä½¿ç”¨"></a>Docker  ä½¿ç”¨</h2><p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111014521.png" alt="vGuay"></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æŸ¥çœ‹é•œåƒ </span>
docker images

<span class="token comment"># è¿è¡Œé•œåƒ</span>
docker run <span class="token punctuation">[</span>my-image<span class="token punctuation">]</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿è¡Œé•œåƒå…ˆåœ¨æœ¬åœ°æŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰ä¼šå»ç½‘ç»œä»“åº“ä¸‹è½½ã€‚    </p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¸®åŠ©å‘½ä»¤</span>
docker version
docker info
docker <span class="token punctuation">[</span>command<span class="token punctuation">]</span> --help<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/run/">Docker run reference | Docker Documentation</a></p>
<h3 id="é•œåƒå‘½ä»¤"><a href="#é•œåƒå‘½ä»¤" class="headerlink" title="é•œåƒå‘½ä»¤"></a>é•œåƒå‘½ä»¤</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ—å‡ºé•œåƒ</span>
docker images -aq

-a <span class="token comment"># åˆ—å‡ºæ‰€æœ‰é•œåƒ</span>
-q <span class="token comment"># åªæ˜¾ç¤ºé•œåƒID</span>

<span class="token comment"># æœç´¢é•œåƒ</span>
docker search -f <span class="token assign-left variable">stars</span><span class="token operator">=</span><span class="token number">500</span> mysql
docker search --filter is-official<span class="token operator">=</span>true --filter <span class="token assign-left variable">stars</span><span class="token operator">=</span><span class="token number">3</span> busybox

-f, --filter <span class="token comment"># è¿‡æ»¤é€‰é¡¹</span>

<span class="token comment"># ä¸‹è½½é•œåƒ</span>
docker pull <span class="token punctuation">[</span>my-image<span class="token punctuation">]</span> <span class="token punctuation">[</span>:tag<span class="token punctuation">]</span>
docker pull mysql
docker pull docker.io/library/mysql:latest

<span class="token comment"># ä¸å†™tagé»˜è®¤latest å¯ä»¥æŒ‡å®šç‰ˆæœ¬</span>
<span class="token comment"># åˆ†å±‚ä¸‹è½½ å·²æœ‰çš„åº“ç›´æ¥è·³è¿‡</span>

<span class="token comment"># åˆ é™¤é•œåƒ</span>
docker rmi -f <span class="token punctuation">[</span>id<span class="token punctuation">]</span> <span class="token punctuation">[</span>id<span class="token punctuation">]</span> <span class="token punctuation">[</span>id<span class="token punctuation">]</span>
docker rmi -f <span class="token variable"><span class="token variable">$(</span>docker images -aq<span class="token variable">)</span></span> <span class="token comment"># åˆ é™¤å…¨éƒ¨</span>

-f <span class="token comment"># å¼ºåˆ¶åˆ é™¤</span>

<span class="token comment"># æŸ¥çœ‹é•œåƒä¿¡æ¯</span>
docker image inspect <span class="token punctuation">[</span>my-image<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>ğŸŸ å¯¹å®¹å™¨è¿½åŠ å¯åŠ¨é€‰é¡¹å¯ä»¥å…ˆæäº¤æˆé•œåƒå†é‡æ–°å¯åŠ¨</strong></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker <span class="token function">ps</span> -a
<span class="token comment"># æäº¤é•œåƒ</span>
docker commit <span class="token punctuation">[</span>id<span class="token punctuation">]</span> <span class="token punctuation">[</span>new-image-name<span class="token punctuation">]</span>

<span class="token comment"># é‡æ–°å¯åŠ¨</span>
docker run -it -v<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h3 id="å®¹å™¨å‘½ä»¤"><a href="#å®¹å™¨å‘½ä»¤" class="headerlink" title="å®¹å™¨å‘½ä»¤"></a>å®¹å™¨å‘½ä»¤</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker pull ubuntu

<span class="token comment"># å¯åŠ¨å®¹å™¨</span>
docker run <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>my-image<span class="token punctuation">]</span>

--name<span class="token operator">=</span><span class="token string">"Name"</span> <span class="token comment"># å®¹å™¨åå­—</span>
-d <span class="token comment"># åå°è¿è¡Œæ–¹å¼</span>
-it <span class="token comment"># äº¤äº’æ–¹å¼è¿è¡Œ äº§ç”Ÿä¸€ä¸ªç»ˆç«¯ [cmd]æœ‰çš„é•œåƒæœ‰é»˜è®¤å€¼ ubuntu->/bin/bash python->python</span>
-p <span class="token comment"># æŒ‡å®šå®¹å™¨ç«¯å£ </span>
<span class="token comment"># -p ä¸»æœºç«¯å£ï¼šå®¹å™¨ç«¯å£</span>
-P <span class="token comment"># éšæœºæŒ‡å®šç«¯å£</span>

<span class="token comment"># è¿›å…¥å®¹å™¨</span>
docker run -it ubuntu /bin/bash

<span class="token comment"># ä»å®¹å™¨ä¸­é€€å‡º</span>
<span class="token builtin class-name">exit</span>
Ctrl + P + Q <span class="token comment"># å®¹å™¨ä¸åœæ­¢</span>

<span class="token comment"># é‡æ–°å¯åŠ¨å¹¶è¿›å…¥å®¹å™¨</span>
docker start -ai <span class="token punctuation">[</span>ubuntu01<span class="token punctuation">]</span>

<span class="token comment"># æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨</span>
docker <span class="token function">ps</span>

-a <span class="token comment"># åŒ…æ‹¬è¿è¡Œè¿‡çš„å®¹å™¨</span>
-n<span class="token operator">=</span>? <span class="token comment"># æœ€è¿‘åˆ›å»ºçš„å‡ ä¸ªå®¹å™¨</span>
-q <span class="token comment"># åªæ˜¾ç¤ºç¼–å·</span>

<span class="token comment"># åˆ é™¤å®¹å™¨</span>
docker <span class="token function">rm</span> <span class="token punctuation">[</span>id<span class="token punctuation">]</span>
docker <span class="token function">rm</span> -f <span class="token variable"><span class="token variable">$(</span>docker <span class="token function">ps</span> -aq<span class="token variable">)</span></span>
docker <span class="token function">ps</span> -aq <span class="token operator">|</span> <span class="token function">xargs</span> docker <span class="token function">rm</span>

-f <span class="token comment"># å¼ºåˆ¶åˆ é™¤</span>

<span class="token comment"># å¯åŠ¨å’Œåœæ­¢</span>
docker start <span class="token punctuation">[</span>id<span class="token punctuation">]</span>
docker restart <span class="token punctuation">[</span>id<span class="token punctuation">]</span>
docker stop <span class="token punctuation">[</span>id<span class="token punctuation">]</span>
docker <span class="token function">kill</span> <span class="token punctuation">[</span>id<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="å…¶ä»–å‘½ä»¤"><a href="#å…¶ä»–å‘½ä»¤" class="headerlink" title="å…¶ä»–å‘½ä»¤"></a>å…¶ä»–å‘½ä»¤</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker run -d <span class="token punctuation">[</span>my-image<span class="token punctuation">]</span>
docker <span class="token function">ps</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>ğŸŸ å¦‚æœåœ¨åå°å¯åŠ¨çš„å®¹å™¨æ²¡æœ‰ä¸ºå‰å°è¿›ç¨‹æä¾›å“åº”çš„æœåŠ¡ï¼Œå®¹å™¨ä¼šè‡ªåŠ¨åœæ­¢ã€‚</p>
<p><strong>æŸ¥çœ‹æ—¥å¿—</strong></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker run -d ubuntu /bin/sh -c <span class="token string">"while true;do echo hello;sleep 1;done"</span>

docker <span class="token function">ps</span>

docker logs -tf --tail <span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token punctuation">[</span>container<span class="token punctuation">]</span>

-t <span class="token comment"># æ˜¾ç¤ºæ—¶é—´æˆ³</span>
-f <span class="token comment"># æ˜¾ç¤ºåç»­æ—¥å¿—</span>
--tail <span class="token comment"># æŸ¥çœ‹æœ«å°¾å‡ æ¡</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æŸ¥çœ‹é•œåƒçš„æ„å»ºè¿‡ç¨‹ dockerfile </span>
docker <span class="token function">history</span> <span class="token punctuation">[</span>id<span class="token punctuation">]</span>

<span class="token comment"># æŸ¥çœ‹å®¹å™¨ä¸­è¿›ç¨‹ä¿¡æ¯</span>
docker <span class="token function">top</span> <span class="token punctuation">[</span>id<span class="token punctuation">]</span>

<span class="token comment"># æŸ¥çœ‹å®¹å™¨å…ƒä¿¡æ¯</span>
docker inspect <span class="token punctuation">[</span>id<span class="token punctuation">]</span>

<span class="token comment"># æŸ¥çœ‹cpuçŠ¶æ€</span>
docker stats

--no-stream <span class="token comment"># åªæ˜¾ç¤ºä¸€æ¬¡</span>

<span class="token comment"># è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span>
docker <span class="token builtin class-name">exec</span> -it <span class="token punctuation">[</span>id<span class="token punctuation">]</span> /bin/bash <span class="token comment"># å¼€å¯æ–°çš„ç»ˆç«¯ï¼ˆå¸¸ç”¨ï¼‰</span>
docker attach <span class="token punctuation">[</span>id<span class="token punctuation">]</span> <span class="token comment"># è¿›å…¥æ­£åœ¨æ‰§è¡Œçš„ç»ˆç«¯</span>

<span class="token comment"># ä»å®¹å™¨ä¸­å¤åˆ¶æ–‡ä»¶åˆ°ä¸»æœº</span>
docker <span class="token function">cp</span> <span class="token punctuation">[</span>id<span class="token punctuation">]</span>:<span class="token punctuation">[</span>file_path<span class="token punctuation">]</span> <span class="token punctuation">[</span>host_path<span class="token punctuation">]</span>

docker run -it ubuntu /bin/bash
<span class="token comment"># container</span>
<span class="token builtin class-name">cd</span> /home
<span class="token function">ls</span>
<span class="token function">touch</span> hello.txt
<span class="token builtin class-name">exit</span>
<span class="token comment"># container</span>
docker <span class="token function">ps</span> -a <span class="token comment"># å®¹å™¨åœæ­¢è¿è¡Œä½†ä¿å­˜äº†æ•°æ®</span>
docker <span class="token function">cp</span> <span class="token punctuation">[</span>id<span class="token punctuation">]</span>:/home/hello.txt /home
<span class="token function">ls</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>==TODO: ä½¿ç”¨ Docker æ•°æ®å·æŒ‚è½½ç›®å½•å’Œæ–‡ä»¶==</p>
<p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111014041.png" alt="dockercommand"></p>
<h3 id="éƒ¨ç½²-nginx"><a href="#éƒ¨ç½²-nginx" class="headerlink" title="éƒ¨ç½² nginx"></a>éƒ¨ç½² nginx</h3><p>==TODOï¼šé€šè¿‡ -v æ•°æ®å·æä¾›å¤–éƒ¨æ˜ å°„è·¯å¾„ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚==</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ç¯å¢ƒå‡†å¤‡</span>
docker <span class="token function">ps</span> -aq
docker <span class="token function">rm</span> <span class="token variable"><span class="token variable">$(</span>docker <span class="token function">ps</span> -aq<span class="token variable">)</span></span>

<span class="token comment"># æœç´¢ä¸‹è½½</span>
docker search nginx
docker pull nginx
docker images

<span class="token comment"># åå°è¿è¡ŒæœåŠ¡</span>
docker run --name<span class="token operator">=</span><span class="token string">"nginx01"</span> -d  -p <span class="token number">3344</span>:80 nginx
<span class="token function">curl</span> localhost:3344
docker <span class="token function">ps</span>
docker stop nginx01
<span class="token function">curl</span> localhost:3344 <span class="token comment"># æ— å“åº”</span>
docker start nginx01
<span class="token function">curl</span> localhost:3344 <span class="token comment"># é‡æ–°å¯åŠ¨äº†</span>

<span class="token comment"># è¿›å…¥å®¹å™¨</span>
docker <span class="token builtin class-name">exec</span> -it nginx01 /bin/bash
<span class="token function">whereis</span> nginx
<span class="token builtin class-name">cd</span> /etc/nginx
<span class="token function">ls</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="éƒ¨ç½²-tomcat"><a href="#éƒ¨ç½²-tomcat" class="headerlink" title="éƒ¨ç½² tomcat"></a>éƒ¨ç½² tomcat</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># è‡ªåŠ¨ä¸‹è½½å¹¶å¯åŠ¨å®¹å™¨</span>
docker run -it --rm tomcat

--rm <span class="token comment"># ç»“æŸè¿è¡Œååˆ é™¤å®¹å™¨</span>

docker <span class="token function">ps</span> -a <span class="token comment"># æ²¡æœ‰ç»“æœ</span>
docker images

<span class="token comment"># è¿è¡Œå®¹å™¨</span>
docker run -d --name<span class="token operator">=</span>tomcat01  -p <span class="token number">3355</span>:8080 tomcat
<span class="token function">curl</span> localhost:3355 <span class="token comment"># 404</span>

<span class="token comment"># è¿›å…¥å®¹å™¨</span>
docker <span class="token builtin class-name">exec</span> -it tomcat01 /bin/bash
<span class="token comment"># tomcat </span>
<span class="token function">cp</span> -r webapps.dist/* webapps
<span class="token builtin class-name">exit</span>
<span class="token comment"># tomcat</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è®¿é—® <a target="_blank" rel="noopener" href="http://localhost:3355/">http://localhost:3355</a></p>
<p>==TODO: åœ¨å®¹å™¨å¤–æä¾›æ˜ å°„è·¯å¾„ webappsï¼Œè‡ªåŠ¨åŒæ­¥é¡¹ç›®ã€‚==</p>
<h3 id="elasticsearch"><a href="#elasticsearch" class="headerlink" title="elasticsearch"></a>elasticsearch</h3><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111016355.png" alt="image-20220804204104104" style="zoom: 67%;" />

<p><a target="_blank" rel="noopener" href="https://hub.docker.com/_/elasticsearch">Elasticsearch - Official Image | Docker Hub</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¢åŠ å†…å­˜é™åˆ¶</span>
docker run -d --name elasticsearch <span class="token punctuation">[</span>--net somenetwork<span class="token punctuation">]</span> -p <span class="token number">9200</span>:9200 -p <span class="token number">9300</span>:9300 -e <span class="token string">"discovery.type=single-node"</span> -e <span class="token assign-left variable">ES_JAVA_OPTS</span><span class="token operator">=</span><span class="token string">"-Xms64m -Xmx512m"</span> elasticsearch:tag

<span class="token function">curl</span> localhost:9200<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>==TODO: ä½¿ç”¨Kibana è¿æ¥ ES éœ€è¦é€šè¿‡ Linux å†…ç½‘è½¬å‘==</p>
<h2 id="å¯è§†åŒ–"><a href="#å¯è§†åŒ–" class="headerlink" title="å¯è§†åŒ–"></a>å¯è§†åŒ–</h2><ul>
<li>Rancher æŒç»­é›†æˆã€æŒç»­éƒ¨ç½² CI/CD</li>
<li>portainer å›¾å½¢åŒ–ç•Œé¢ç®¡ç†</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://www.portainer.io/">Container Management | Kubernetes GUI | Docker Swarm GUI | Portainer</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.portainer.io/start/install/server/docker/linux">Install Portainer with Docker on Linux - Portainer Documentation</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker run -d -p <span class="token number">8000</span>:8000 -p <span class="token number">9443</span>:9443  -p <span class="token number">9000</span>:9000 --name portainer --restart<span class="token operator">=</span>always <span class="token punctuation">\</span>
-v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data <span class="token punctuation">\</span>
portainer/portainer-ce:latest

<span class="token comment"># éœ€è¦æ˜ å°„httpç«¯å£9000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ğŸŸ powershell ä¸­çš„ line continuation characterï¼ˆæ¢è¡Œç¬¦ï¼‰æ˜¯   <code>`</code> </p>
<p><a target="_blank" rel="noopener" href="http://localhost:9000/">http://localhost:9000</a></p>
<h2 id="Dokcer-é•œåƒ"><a href="#Dokcer-é•œåƒ" class="headerlink" title="Dokcer é•œåƒ"></a>Dokcer é•œåƒ</h2><h3 id="é•œåƒåŠ è½½åŸç†"><a href="#é•œåƒåŠ è½½åŸç†" class="headerlink" title="é•œåƒåŠ è½½åŸç†"></a>é•œåƒåŠ è½½åŸç†</h3><p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015123.png" alt="image-20220804214538428"></p>
<p>ä¸‹è½½ä¸åŒé•œåƒéƒ½ä¼šæœ‰ä¸€äº›å…±åŒçš„æ–‡ä»¶ï¼Œä¾‹å¦‚ Linuxå†…æ ¸ã€‚</p>
<p><strong>Docker çš„é•œåƒæ˜¯ç”±ä¸€å±‚ä¸€å±‚çš„æ–‡ä»¶ç³»ç»Ÿç»„æˆã€‚</strong></p>
<p> <img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015023.png" alt="image-20220804215349485"></p>
<p>Docker ç›´æ¥ä½¿ç”¨åº•å±‚çš„ bootfs æ¥åŠ è½½å†…æ ¸ï¼Œåªéœ€è¦è‡ªå¸¦ç²¾ç®€çš„ rootfsï¼ŒåªåŒ…å«æœ€åŸºæœ¬çš„å‘½ä»¤ã€å·¥å…·å’Œç¨‹åºåº“ã€‚</p>
<p>å¯åŠ¨è™šæ‹Ÿæœºéœ€è¦ä»åº•å±‚åŠ è½½ bootfsï¼Œé€Ÿåº¦æ˜¯åˆ†é’Ÿçº§åˆ«ï¼Œdocker æ˜¯ç§’çº§ã€‚</p>
<h3 id="åˆ†å±‚ç†è§£"><a href="#åˆ†å±‚ç†è§£" class="headerlink" title="åˆ†å±‚ç†è§£"></a>åˆ†å±‚ç†è§£</h3><p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015136.png" alt="image-20220804215043667"></p>
<p>é€šè¿‡æ–‡ä»¶åˆ†å±‚æ¥èµ„æºå…±äº«ï¼Œæ¯ä¸ª layer éƒ½æ˜¯ä¸€ä¸ªæ­¥éª¤ã€‚</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æŸ¥çœ‹ layer</span>
docker image inspect redis:latest<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015121.png" alt="image-20220804220729416"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015727.png" alt="image-20220804220902839"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015163.png" alt="image-20220804220900426"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015491.png" alt="image-20220804220642894"></p>
<p><strong>Docker é•œåƒéƒ½æ˜¯åªè¯»çš„ï¼Œå½“å®¹å™¨å¯åŠ¨æ—¶ï¼Œä¸€ä¸ªæ–°çš„å¯å†™å±‚è¢«åŠ è½½åˆ°é•œåƒå±‚é¡¶éƒ¨ï¼Œå«åšå®¹å™¨å±‚ã€‚</strong></p>
<h3 id="commit-é•œåƒ"><a href="#commit-é•œåƒ" class="headerlink" title="commit é•œåƒ"></a>commit é•œåƒ</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker commit -m <span class="token string">"message"</span> -a <span class="token string">"author"</span> <span class="token punctuation">[</span>id<span class="token punctuation">]</span> <span class="token punctuation">[</span>image-name<span class="token punctuation">]</span>:<span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>é€šè¿‡ commit å°†å½“å‰å®¹å™¨çš„çŠ¶æ€ä¿å­˜ä¸ºä¸€ä¸ªé•œåƒã€‚ã€å¿«ç…§ã€‘</p>
<p><strong>ç»ƒä¹ ï¼šæäº¤ Tomcat</strong></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker run -d --name<span class="token operator">=</span>tomcat -p <span class="token number">8080</span>:8080 tomcat

<span class="token comment"># è¿›å…¥å®¹å™¨</span>
docker <span class="token builtin class-name">exec</span> -it tomcat /bin/bash

<span class="token comment"># tomcat</span>
<span class="token function">ls</span>
<span class="token comment"># è®¾ç½®é¦–é¡µå†…å®¹</span>
<span class="token function">cp</span> -r webapps.dist/* webapps
<span class="token builtin class-name">exit</span>
<span class="token comment"># tomcat</span>

docker <span class="token function">ps</span>

<span class="token function">curl</span> localhost:8080

<span class="token comment"># æäº¤å®¹å™¨æˆä¸ºé•œåƒ</span>
docker commit -m <span class="token string">"add webapps"</span> -a <span class="token string">"ysama"</span> 8f my-tomcat:1.0
docker images

<span class="token comment"># åˆ é™¤åŸå®¹å™¨</span>
docker <span class="token function">rm</span> -f 8f

<span class="token comment"># å¯åŠ¨æ–°é•œåƒ</span>
docker run -d -p <span class="token number">8080</span>:8080 --rm my-tomcat:1.0
docker <span class="token function">ps</span>
<span class="token function">curl</span> localhost:8080<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="å®¹å™¨æ•°æ®å·"><a href="#å®¹å™¨æ•°æ®å·" class="headerlink" title="å®¹å™¨æ•°æ®å·"></a>å®¹å™¨æ•°æ®å·</h2><h3 id="ä½¿ç”¨æ•°æ®å·"><a href="#ä½¿ç”¨æ•°æ®å·" class="headerlink" title="ä½¿ç”¨æ•°æ®å·"></a>ä½¿ç”¨æ•°æ®å·</h3><p>åˆ é™¤å®¹å™¨ï¼Œå®¹å™¨ä¸­çš„æ•°æ®å°±ä¼šä¸¢å¤±ã€‚</p>
<p>éœ€è¦å°† docker å®¹å™¨ä¸­äº§ç”Ÿçš„æ•°æ®åŒæ­¥åˆ°æœ¬åœ°ï¼Œ<strong>æ•°æ®å…±äº«</strong>ã€‚</p>
<p><strong>å°†å®¹å™¨å†…çš„ç›®å½•æŒ‚è½½åˆ°ä¸»æœºä¸Š</strong></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¯åŠ¨å®¹å™¨ æŒ‚è½½ç›®å½•</span>
docker run -it -v /home/test:/home ubuntu /bin/bash

-v <span class="token comment"># ä¸»æœºç›®å½•:å®¹å™¨ç›®å½•</span>

<span class="token comment"># æŸ¥çœ‹å®¹å™¨mountä¿¡æ¯</span>
docker inspect <span class="token punctuation">[</span>id<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p><strong>åªè¦å®¹å™¨å­˜åœ¨ï¼Œç›®å½•å°±ä¼šè‡ªåŠ¨åŒæ­¥ã€‚</strong></p>
<ul>
<li>åœæ­¢å®¹å™¨</li>
<li>ä¸»æœºä¸Šä¿®æ”¹æ–‡ä»¶</li>
<li>å¯åŠ¨å®¹å™¨</li>
<li>å®¹å™¨å†…çš„æ•°æ®ä¾æ—§æ˜¯åŒæ­¥çš„</li>
</ul>
<p>åˆ é™¤å®¹å™¨åï¼ŒæŒ‚è½½åˆ°æœ¬åœ°çš„æ•°æ®è¿˜ä¼šå­˜åœ¨ã€‚ã€å®¹å™¨æ•°æ®æŒä¹…åŒ–ã€‘</p>
<p>ğŸŸ æŒ‚è½½é•œåƒå†…å·²ç»æœ‰çš„ç›®å½•ï¼Œè¯¥ç›®å½•ä¼šæ¸…ç©ºã€‚</p>
<h3 id="åŒæ­¥-MySQL"><a href="#åŒæ­¥-MySQL" class="headerlink" title="åŒæ­¥  MySQL"></a>åŒæ­¥  MySQL</h3><p><a target="_blank" rel="noopener" href="https://hub.docker.com/_/mysql">Mysql - Official Image | Docker Hub</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># è·å–é•œåƒ</span>
docker pull mysql:5.7

<span class="token comment"># docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag</span>
docker run -d -p <span class="token number">3310</span>:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql <span class="token punctuation">\</span>
-e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> --name mysql01 mysql:5.7

-d <span class="token comment"># åå°è¿è¡Œ</span>
-p <span class="token comment"># ç«¯å£æ˜ å°„</span>
-v <span class="token comment"># å·æŒ‚è½½</span>
-e <span class="token comment"># ç¯å¢ƒé…ç½®</span>

<span class="token function">whereis</span> mysql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>ä½¿ç”¨ SQLyog è¿æ¥ localhost:3310</p>
<p>root</p>
<p>123456</p>
</blockquote>
<h3 id="å…·åæŒ‚è½½-amp-åŒ¿åæŒ‚è½½"><a href="#å…·åæŒ‚è½½-amp-åŒ¿åæŒ‚è½½" class="headerlink" title="å…·åæŒ‚è½½&amp;åŒ¿åæŒ‚è½½"></a>å…·åæŒ‚è½½&amp;åŒ¿åæŒ‚è½½</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åŒ¿åæŒ‚è½½</span>
docker run -d -P --name nginx01 -v /etc/nginx nginx

<span class="token comment"># æŸ¥çœ‹ç«¯å£</span>
docker inspect <span class="token punctuation">[</span>id<span class="token punctuation">]</span>

-P <span class="token comment"># éšæœºç«¯å£</span>
-v <span class="token comment"># åªå†™äº†å®¹å™¨å†…è·¯å¾„</span>

<span class="token comment"># æŸ¥çœ‹æ‰€æœ‰volumeï¼ˆæ•°æ®å·ï¼‰æƒ…å†µ</span>
docker volume <span class="token function">ls</span>

<span class="token comment"># å…·åæŒ‚è½½</span>
docker  run -d -P --name nginx02 -v my-nginx:/etc/nginx nginx

-v <span class="token comment"># å·å:å®¹å™¨å†…è·¯å¾„</span>

docker volume <span class="token function">ls</span>
docker volume inspect my-nginx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015914.png" alt="image-20220805124743566"></p>
<p>æ²¡æœ‰æŒ‡å®šæŒ‚è½½ç›®å½•çš„å®¹å™¨ï¼Œé»˜è®¤æŒ‚è½½åˆ° <code>/var/lib/docker/volumes/xxx/_data</code></p>
<p>åœ¨ windows ä¸Šè¿™ä¸ªä½ç½®åœ¨ Linux ä¸­çš„ <code>\\wsl.localhost\docker-desktop-data\data\docker\volumes</code></p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/43181654/locating-data-volumes-in-docker-desktop-windows">Locating data volumes in Docker Desktop (Windows) - Stack Overflow</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">-v å®¹å™¨å†…è·¯å¾„ <span class="token comment"># åŒ¿åæŒ‚è½½</span>
-v å·å:å®¹å™¨å†…è·¯å¾„ <span class="token comment"># å…·åæŒ‚è½½</span>
-v /ä¸»æœºè·¯å¾„:å®¹å™¨è·¯å¾„ <span class="token comment"># æŒ‡å®šè·¯å¾„æŒ‚è½½</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>å¤§å¤šæƒ…å†µä½¿ç”¨<strong>å…·åæŒ‚è½½</strong>ï¼Œå¯ä»¥æ ¹æ®åç§°æ‰¾åˆ°æ•°æ®å·ã€‚</p>
<p><strong>è®¾ç½®å®¹å™¨å¯¹æŒ‚è½½è·¯å¾„çš„æƒé™</strong></p>
<ul>
<li>ro (readonly) å®¹å™¨åªè¯»ï¼Œåªèƒ½é€šè¿‡ä¸»æœºæ“ä½œ</li>
<li>rw (readwrite) å®¹å™¨å¯è¯»å¯å†™</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># è®¾ç½®æƒé™</span>
docker run -d -P --name nginx -v my-nginx:/etc/nginx:ro nginx
docker run -d -P --name nginx -v my-nginx:/etc/nginx:rw nginx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<h3 id="ä½¿ç”¨-dockerfile-è‡ªåŠ¨æŒ‚è½½"><a href="#ä½¿ç”¨-dockerfile-è‡ªåŠ¨æŒ‚è½½" class="headerlink" title="ä½¿ç”¨ dockerfile è‡ªåŠ¨æŒ‚è½½"></a>ä½¿ç”¨ dockerfile è‡ªåŠ¨æŒ‚è½½</h3><p>Dockerfile å°±æ˜¯ç”¨æ¥æ„å»º docker é•œåƒçš„å‘½ä»¤è„šæœ¬ã€‚</p>
<p>è„šæœ¬çš„æ¯ä¸ªå‘½ä»¤å¯¹åº”ç€é•œåƒçš„æ¯ä¸€å±‚ã€‚</p>
<pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">FROM ubuntu

# åŒ¿åæŒ‚è½½
VOLUME [&quot;volume01&quot;,&quot;volume02&quot;]

CMD echo &quot;----end----&quot;

CMD &#x2F;bin&#x2F;bash<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åœ¨ä¸»æœºç›®å½•åˆ›å»º dockerfile å¹¶æ„å»ºé•œåƒï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> /home
<span class="token function">mkdir</span> docker-test-volume

<span class="token function">vim</span> Dockerfile
<span class="token comment"># ä¸Šé¢çš„dockerfileå†…å®¹</span>
<span class="token function">cat</span> Dockerfile

docker build -f /home/docker-test-volume/Dockerfile -t my-ubuntu:1.0 <span class="token builtin class-name">.</span>

docker images<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>è¿è¡Œç”Ÿæˆçš„é•œåƒä¼šå‘ç°è‡ªåŠ¨æŒ‚è½½äº†ç›®å½•</strong></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker run -it <span class="token punctuation">[</span>id<span class="token punctuation">]</span> /bin/bash
<span class="token function">ls</span> -l

<span class="token comment"># volume01</span>
<span class="token comment"># volume02</span>

<span class="token builtin class-name">cd</span> volume01
<span class="token function">touch</span> hello.txt

<span class="token comment"># æŸ¥çœ‹Mountsä¿¡æ¯ æ‰¾åˆ°ä¸»æœºä¸Šçš„ç›®å½• /var/lib/docker/volumes/[id]/_data</span>
docker inspect <span class="token punctuation">[</span>id<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="å®¹å™¨æ•°æ®åŒæ­¥"><a href="#å®¹å™¨æ•°æ®åŒæ­¥" class="headerlink" title="å®¹å™¨æ•°æ®åŒæ­¥"></a>å®¹å™¨æ•°æ®åŒæ­¥</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43274097/article/details/104500521">æ•°æ®å·å®¹å™¨ : â€“volumes-from_å¬é›¨ã€€çš„åšå®¢-CSDNåšå®¢</a></p>
<p>å‘½åçš„å®¹å™¨æŒ‚è½½æ•°æ®å·ï¼Œå…¶å®ƒå®¹å™¨é€šè¿‡æŒ‚è½½è¿™ä¸ª(çˆ¶å®¹å™¨)å®ç°æ•°æ®å…±äº«ï¼ŒæŒ‚è½½æ•°æ®å·çš„å®¹å™¨ï¼Œç§°ä¹‹ä¸º<strong>æ•°æ®å·å®¹å™¨</strong>ã€‚</p>
<ul>
<li>æ•°æ®å·å®¹å™¨å¯ä»¥è‡ªåŠ¨æŒ‚è½½ä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‚è½½ã€‚</li>
<li>åœæ­¢æˆ–åˆ é™¤æ•°æ®å·å®¹å™¨ï¼Œå­å®¹å™¨å’Œä¸»æœºä¹‹é—´çš„æŒ‚è½½ä»æ—§å­˜åœ¨ã€‚</li>
<li>åˆ é™¤æ‰€æœ‰å®¹å™¨å¹¶é‡æ–°å¼€å§‹ï¼Œæ–°çš„å®¹å™¨ä¸­ä¼šæœ‰åœ¨ä¸»æœºç›®å½•ä¿å­˜çš„æ•°æ®ã€‚</li>
</ul>
<p><strong>æ³¨æ„ï¼šexit é€€å‡º Ubuntuï¼Œå®¹å™¨ä¼šåœæ­¢è¿è¡Œï¼Œéœ€è¦ Ctrl + P + Q é€€å‡ºä¸åœæ­¢å®¹å™¨ã€‚</strong></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker run -it --name<span class="token operator">=</span>ubuntu01 -v /home/ysama/volume01:/home/volume01 ubuntu /bin/bash
docker run -it --name<span class="token operator">=</span>ubuntu02 --volumes-from ubuntu01 ubuntu /bin/bash<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015944.png" alt="image-20220805185535659"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015754.png" alt="image-20220805185946104"></p>
<p>ğŸŸ  å¤šä¸ª mysql å®ç°æ•°æ®å…±äº«</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åœ¨wsl2ç¯å¢ƒä¸­</span>

<span class="token comment"># æ•°æ®å·å®¹å™¨</span>
docker run -d -p <span class="token number">3310</span>:3306 -v /etc/mysql/conf.d -v /var/lib/mysql <span class="token punctuation">\</span>
-e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> --name<span class="token operator">=</span>mysql01 mysql:5.7

<span class="token comment"># å­å®¹å™¨</span>
docker run -d -p <span class="token number">3310</span>:3306 -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> --name<span class="token operator">=</span>mysql02 mysql:5.7

mysql -h <span class="token number">127.0</span>.0.1 -uroot -P3310 -p<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/11657829/error-2002-hy000-cant-connect-to-local-mysql-server-through-socket-var-run">lamp - ERROR 2002 (HY000): Canâ€™t connect to local MySQL server through socket â€˜/var/run/mysqld/mysqld.sockâ€™ (2) - Stack Overflow</a></p>
<h2 id="DockerFile"><a href="#DockerFile" class="headerlink" title="DockerFile"></a>DockerFile</h2><h3 id="dockerfile-å‘½ä»¤"><a href="#dockerfile-å‘½ä»¤" class="headerlink" title="dockerfile å‘½ä»¤"></a>dockerfile å‘½ä»¤</h3><ol>
<li>ç¼–å†™ Dockerfile</li>
<li>docker build æ„å»ºæˆä¸ºé•œåƒ</li>
<li>docker run è¿è¡Œé•œåƒ</li>
<li>docker push å‘å¸ƒé•œåƒ</li>
</ol>
<p>æ¯ä¸€ä¸ª Dockerfile æŒ‡ä»¤éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒå±‚å¹¶æäº¤ã€‚</p>
<pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">FROM        # åŸºç¡€é•œåƒ
MAINTAINER  # ç»´æŠ¤è€…ä¿¡æ¯
RUN         # æ„å»ºé•œåƒæ—¶è¿è¡Œçš„å‘½ä»¤
ADD         # æ·»åŠ å†…å®¹
WORKDIR     # è¿›å…¥å®¹å™¨çš„é»˜è®¤è·¯å¾„
VOLUME      # æŒ‚è½½ç›®å½•
EXPOSE      # æŒ‡å®šå¯¹å¤–ç«¯å£
CMD         # å®¹å™¨å¯åŠ¨åè¿è¡Œçš„å‘½ä»¤ ä¼šè¢«å¤–éƒ¨é€‰é¡¹è¦†ç›–
ENTRYPOINT  # å®¹å™¨å¯åŠ¨åè¿è¡Œçš„å‘½ä»¤ å¯ä»¥è¿½åŠ å‘½ä»¤
ONBUILD
COPY
ENV         # è®¾ç½®ç¯å¢ƒ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æŸ¥çœ‹é•œåƒçš„æ„å»ºè¿‡ç¨‹ dockerfile </span>
docker <span class="token function">history</span> <span class="token punctuation">[</span>id<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="æ„å»ºé•œåƒ-ubuntu"><a href="#æ„å»ºé•œåƒ-ubuntu" class="headerlink" title="æ„å»ºé•œåƒ ubuntu"></a>æ„å»ºé•œåƒ ubuntu</h3><p>ğŸŸ éœ€è¦æ›´æ¢é˜¿é‡Œäº‘çš„æº</p>
<pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">FROM ubuntu
MAINTAINER ysama&lt;1234@example.com&gt;

ENV MYPATH &#x2F;usr&#x2F;local
ENV SOURCES &#x2F;etc&#x2F;apt&#x2F;sources.list
WORKDIR $MYPATH

RUN mv $SOURCES $SOURCES.bak

RUN echo &quot;deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal main multiverse restricted universe&quot;&gt;&gt;$SOURCES

RUN echo &quot;deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-backports main multiverse restricted universe&quot;&gt;&gt;$SOURCES

RUN echo &quot;deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-proposed main multiverse restricted universe&quot;&gt;&gt;$SOURCES

RUN echo &quot;deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-security main multiverse restricted universe&quot;&gt;&gt;$SOURCES

RUN echo &quot;deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-updates main multiverse restricted universe&quot;&gt;&gt;$SOURCES

RUN echo &quot;deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal main multiverse restricted universe&quot;&gt;&gt;$SOURCES

RUN echo &quot;deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-backports main multiverse restricted universe&quot;&gt;&gt;$SOURCES

RUN echo &quot;deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-proposed main multiverse restricted universe&quot;&gt;&gt;$SOURCES

RUN echo &quot;deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-security main multiverse restricted universe&quot;&gt;&gt;$SOURCES

RUN echo &quot;deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-updates main multiverse restricted universe&quot;&gt;&gt;$SOURCES

RUN apt-get update
RUN apt-get -y install vim
RUN apt-get -y install net-tools

EXPOSE 80

CMD echo $MYPATH
CMD echo &quot;----end----&quot;
CMD &#x2F;bin&#x2F;bash<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><a target="_blank" rel="noopener" href="https://dev.to/greenteabiscuit/installing-vim-in-a-docker-container-15i6">Installing Vim in a Docker Container - DEV Community</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/a_small_cherry/article/details/123037157">Ubuntu å¿«é€Ÿæ›´æ¢é˜¿é‡Œæº_a_small_cherryçš„åšå®¢-CSDNåšå®¢_ubuntuæ›´æ¢é˜¿é‡Œäº‘æº</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_37475168/article/details/105029052">è§£å†³Dockerä¸‹æ²¡æœ‰vimæ—¶ï¼Œæ›´æ–°apt-getæº_coder_szcçš„åšå®¢-CSDNåšå®¢</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ„å»ºé•œåƒ</span>
docker build -f /home/docker-test-volume/Dockerfile -t my-ubuntu:1.1 <span class="token builtin class-name">.</span>
<span class="token comment"># é»˜è®¤åå­—æ˜¯Dockerfile ä¸ç”¨åŠ ä¸Š-fé€‰é¡¹</span>

<span class="token comment"># æŸ¥çœ‹é•œåƒ</span>
docker images

<span class="token comment"># æµ‹è¯•è¿è¡Œ</span>
docker run -it my-ubuntu:1.1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œå‘½ä»¤"><a href="#å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œå‘½ä»¤" class="headerlink" title="å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œå‘½ä»¤"></a>å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œå‘½ä»¤</h3><p>ç¼–å†™æµ‹è¯•ç”¨ Dockerfile</p>
<pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">FROM ubuntu

# ENTRYPOINT [&quot;ls&quot;, &quot;-a&quot;]
CMD [&quot;ls&quot;, &quot;-a&quot;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> Dockerfile

<span class="token comment"># æ„å»ºé•œåƒ</span>
docker build -f Dockerfile -t cmdtest <span class="token builtin class-name">.</span>

<span class="token comment"># æµ‹è¯•è¿è¡Œ</span>
docker run cmdtest
<span class="token comment"># ls -a è‡ªåŠ¨è¿è¡Œ</span>

<span class="token comment"># å¦‚æœè¿½åŠ ä¸º ls -al</span>
docker run cmdtest -l
<span class="token comment"># ä¼šè¦†ç›– ls -a å‘½ä»¤ å¯¼è‡´é”™è¯¯</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>åç»­çš„å‘½ä»¤é€‰é¡¹ä¼šè¦†ç›–Dockerfileä¸­çš„ CMD å‘½ä»¤</strong></p>
<p><strong>ä½¿ç”¨ ENTRYPOINT ä¼šè¿½åŠ åç»­å‘½ä»¤é€‰é¡¹</strong></p>
<h3 id="æ„å»º-Tomcat-é•œåƒ"><a href="#æ„å»º-Tomcat-é•œåƒ" class="headerlink" title="æ„å»º Tomcat é•œåƒ"></a>æ„å»º Tomcat é•œåƒ</h3><p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111016787.png" alt="image-20220806173212186"></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ„å»ºé•œåƒ</span>
docker build -t diytomcat <span class="token builtin class-name">.</span>

<span class="token comment"># æµ‹è¯•è¿è¡Œ æŒ‚è½½æ–‡ä»¶</span>
docker run -d -p <span class="token number">8080</span>:8080 --name my-tomcat -v /home/ysama/build/tomcat/test:/url/local/apache-tomcat-9.0.22/webapps/test -v /home/ysama/build/tomcat/tomcatlogs:/url/local/apache-tomcat-9.0.22/logs diytomcat

docker <span class="token builtin class-name">exec</span> -it my-tomcat /bin/bash<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>åœ¨ä¸»æœºçš„ webapps ç›®å½•å‘å¸ƒç½‘é¡µã€‚</strong></p>
<h2 id="æ¨é€é•œåƒ"><a href="#æ¨é€é•œåƒ" class="headerlink" title="æ¨é€é•œåƒ"></a>æ¨é€é•œåƒ</h2><p><a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/push/">docker push | Docker Documentation</a></p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«çš„ä»“åº“ã€‚</p>
<p>ğŸŸ ä½¿ç”¨çš„æ˜¯ Docker Desktopï¼Œæ‰€ä»¥éœ€è¦åœ¨ powershell ä¸­æ“ä½œã€‚</p>
<p>é¦–å…ˆåœ¨ Docker Desktop ä¸­ç™»å½•ã€‚</p>
<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">docker login

<span class="token comment"># tagå°±æ˜¯ç”¨æˆ·å</span>
docker tag <span class="token namespace">[image]</span> ysama2021<span class="token operator">/</span>my<span class="token operator">-</span>tomcat:1<span class="token punctuation">.</span>1

docker push ysama2021<span class="token operator">/</span>my<span class="token operator">-</span>tomcat:1<span class="token punctuation">.</span>1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>The CLI â€œdocker loginâ€ will not work in this configuration.</p>
<p>åœ¨ wsl2 ä¸­æ— æ³•ç™»å½•ã€‚</p>
<p>denied: requested access to the resource is denied</p>
<p>tagè¦å’Œç”¨æˆ·åä¸€è‡´ï¼Œç±»ä¼¼ GitHub</p>
</blockquote>
<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token comment"># æ¸…ç†å®¹å™¨å’Œé•œåƒ</span>
docker <span class="token function">rm</span> $<span class="token punctuation">(</span>docker <span class="token function">ps</span> <span class="token operator">-</span>aq<span class="token punctuation">)</span>
docker rmi ysama2021<span class="token operator">/</span>my<span class="token operator">-</span>tomcat:1<span class="token punctuation">.</span>1
<span class="token comment"># ä¸‹è½½æµ‹è¯•</span>
docker pull ysama2021<span class="token operator">/</span>my<span class="token operator">-</span>tomcat:1<span class="token punctuation">.</span>1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="Docker-ç½‘ç»œ"><a href="#Docker-ç½‘ç»œ" class="headerlink" title="Docker ç½‘ç»œ"></a>Docker ç½‘ç»œ</h2><h3 id="æ¦‚å¿µ-1"><a href="#æ¦‚å¿µ-1" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker images
docker run -d -p <span class="token number">8080</span>:8080 my-tomcat:1.0
docker <span class="token function">ps</span>
docker <span class="token builtin class-name">exec</span> -it <span class="token punctuation">[</span>id<span class="token punctuation">]</span> /bin/bash<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><a target="_blank" rel="noopener" href="https://vuepress.mirror.docker-practice.com/network/">Docker ä¸­çš„ç½‘ç»œåŠŸèƒ½ä»‹ç» | Docker ä»å…¥é—¨åˆ°å®è·µ (docker-practice.com)</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015367.png" alt="image-20220806180341502"></p>
<p>å¯åŠ¨ tomcat æœåŠ¡åï¼Œåœ¨ wsl å’Œ powershell ä¸­éƒ½èƒ½è®¿é—®åˆ° 8080 ç«¯å£ã€‚</p>
<ul>
<li>wsl è®¿é—® docker ç½‘å¡</li>
<li>powershell å…ˆè®¿é—® wsl ç½‘å¡</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ é™¤æ‰€æœ‰é•œåƒ</span>
docker rmi <span class="token variable"><span class="token variable">$(</span>docker images -aq<span class="token variable">)</span></span>

<span class="token comment"># å¯åŠ¨tomcat</span>
docker run -d --name my-tomcat -p <span class="token number">8080</span>:8080 tomcat 

<span class="token comment"># æŸ¥çœ‹ç½‘ç»œä¿¡æ¯</span>
docker inspect my-tomcat

<span class="token comment"># æˆ–è€…è¿›å…¥å®¹å™¨æŸ¥çœ‹ç½‘ç»œä¿¡æ¯</span>
<span class="token comment"># docker exec -it [id] ip addr</span>
docker <span class="token builtin class-name">exec</span> -it my-tomcat /bin/bash

<span class="token comment"># tomcat</span>
<span class="token function">apt-get</span> update

<span class="token function">apt-get</span> <span class="token function">install</span> -y net-tools

<span class="token function">ifconfig</span>
<span class="token comment"># tomcat</span>

<span class="token comment"># é€€å‡ºå®¹å™¨</span>
Ctrl + P + Q<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>å®¹å™¨å†…çš„ç½‘ç»œåœ°å€</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015051.png" alt="image-20220806181821815"></p>
<p><strong>å®¹å™¨ä¹‹é—´æ˜¯å¯ä»¥ ping é€šçš„</strong></p>
<p><strong>ä¸»æœºæ— æ³• ping é€šå®¹å™¨ï¼ˆæ— æ³•è®¿é—®å®¹å™¨å†…éƒ¨ç«¯å£ï¼‰ï¼Œåªèƒ½è®¿é—® docker ç½‘å¡çš„å¤–éƒ¨ç«¯å£ï¼Œç›¸å½“äº localhost</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111015907.png" alt="Docker ç½‘ç»œ"></p>
<h3 id="â€“link"><a href="#â€“link" class="headerlink" title="â€“link"></a>â€“link</h3><p>ä½¿å®¹å™¨ä¹‹é—´çš„è¿æ¥ä¸å— ip åœ°å€å˜åŒ–çš„å½±å“ã€‚</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker run -d -P --name tomcat03 --link tomcat02 tomcat

<span class="token comment"># 3å¯ä»¥pingé€š2</span>
docker <span class="token builtin class-name">exec</span> -it tomcat03 <span class="token function">ping</span> tomcat02

<span class="token comment"># åŸç†æ˜¯é…ç½®äº†hosts</span>
docker <span class="token builtin class-name">exec</span> -it tomcat03 <span class="token function">ping</span> <span class="token function">cat</span> /etc/hosts

<span class="token comment"># 2ä¸èƒ½pingé€š3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>ä¸æ¨èä½¿ç”¨ â€“link</strong></p>
<h3 id="è‡ªå®šä¹‰ç½‘ç»œ"><a href="#è‡ªå®šä¹‰ç½‘ç»œ" class="headerlink" title="è‡ªå®šä¹‰ç½‘ç»œ"></a>è‡ªå®šä¹‰ç½‘ç»œ</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æŸ¥çœ‹dockerç½‘ç»œ</span>
docker network <span class="token function">ls</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>ç½‘ç»œæ¨¡å¼ï¼š</p>
<ul>
<li>bridge æ¡¥æ¥ docker</li>
<li>none</li>
<li>host å’Œä¸»æœºå‘ç½‘ç»œ</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ›å»ºç½‘ç»œ</span>
docker network create --driver bridge --subnet <span class="token number">192.168</span>.0.0/16 --gateway <span class="token number">192.168</span>.0.1 mynet

docker network inspect mynet

<span class="token comment"># ä½¿ç”¨è‡ªå®šä¹‰ç½‘ç»œ</span>
docker run -d -P --name tomcat-net-01 --net mynet tomcat
docker run -d -P --name tomcat-net-02 --net mynet tomcat

<span class="token comment"># åœ¨è‡ªå®šä¹‰ç½‘ç»œä¸­çš„å®¹å™¨å¯ä»¥äº’ç›¸pingé€š</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="ç½‘ç»œè¿é€š"><a href="#ç½‘ç»œè¿é€š" class="headerlink" title="ç½‘ç»œè¿é€š"></a>ç½‘ç»œè¿é€š</h3><p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111016981.png" alt="image-20220806201304791"></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker network connect mynet tomcat01

<span class="token comment"># å°†tomcat01æ”¾å…¥mynetä¸­ ä¸€ä¸ªå®¹å™¨ä¸¤ä¸ªip</span>
docker network inspect mynet

<span class="token comment"># tomcat-01å¯ä»¥pingé€štomcat-net-01 åœ¨åŒä¸€ä¸ªç½‘ç»œä¸­</span>
<span class="token comment"># tomcat-02æœªè¿é€š</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="Redis-é›†ç¾¤"><a href="#Redis-é›†ç¾¤" class="headerlink" title="Redis é›†ç¾¤"></a>Redis é›†ç¾¤</h2><p>[<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000022808576">Redis] ä½ äº†è§£ Redis çš„ä¸‰ç§é›†ç¾¤æ¨¡å¼å—ï¼Ÿ - SegmentFault æ€å¦</a></p>
<p>åˆ›å»ºé›†ç¾¤ä¹‹åå½“æŸä¸ªä¸»èŠ‚ç‚¹ä¸‹çº¿æ—¶ä¼šå¯ç”¨ä»èŠ‚ç‚¹ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111016517.png" alt="image-20220806202314189"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202208111016518.png" alt="image-20220806202432580"></p>
<h2 id="SpringBoot-å¾®æœåŠ¡æ‰“åŒ…"><a href="#SpringBoot-å¾®æœåŠ¡æ‰“åŒ…" class="headerlink" title="SpringBoot å¾®æœåŠ¡æ‰“åŒ…"></a>SpringBoot å¾®æœåŠ¡æ‰“åŒ…</h2><ul>
<li>åœ¨é¡¹ç›®æ ¹ç›®å½•ç¼–å†™ Dockerfile å¹¶æ‰“åŒ… appã€‚</li>
</ul>
<blockquote>
<p>å®‰è£… IDEA çš„ Dokcer integration æ’ä»¶ç”¨æ¥é«˜äº® Dockerfileã€‚</p>
<p>ä¹Ÿå¯ä»¥ç”¨æ¥è¿æ¥è¿œç¨‹ä»“åº“ã€‚</p>
</blockquote>
<pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">FROM java:8

COPY *.jar &#x2F;app.jar

CMD [&quot;--server.port&#x3D;8080&quot;]

EXPOSE 8080

ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;&#x2F;app.jar&quot;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>å°†é¡¹ç›®ç”Ÿæˆçš„ jar åŒ…å’Œ Dockerfile ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚</li>
<li>æ„å»º docker é•œåƒ</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker build -t Dockerfile -t myapp <span class="token builtin class-name">.</span>

<span class="token comment"># è¿è¡Œæµ‹è¯•</span>
docker run -d -P --name springboot-web myapp

<span class="token comment"># æŸ¥çœ‹ç«¯å£</span>
docker <span class="token function">ps</span>

<span class="token function">curl</span> localhost:<span class="token punctuation">[</span>port<span class="token punctuation">]</span>

<span class="token comment"># ä¸Šä¼ åˆ°ä»“åº“</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/server/" rel="tag"><i class="fa fa-tag"></i> server</a>
              <a href="/tags/docker/" rel="tag"><i class="fa fa-tag"></i> docker</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/08/10/%E5%B0%8F%E5%AD%A6%E6%9C%9F%E6%B0%B4%E8%AF%BE%E7%AC%94%E8%AE%B0/" rel="prev" title="å°å­¦æœŸæ°´è¯¾ç¬”è®°">
                  <i class="fa fa-chevron-left"></i> å°å­¦æœŸæ°´è¯¾ç¬”è®°
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/08/11/nginx-note/" rel="next" title="Nginx å­¦ä¹ ç¬”è®°">
                  Nginx å­¦ä¹ ç¬”è®° <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>







<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Nova-mist</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.4.0/pjax.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '.page-configurations',
    '.main-inner',
    '.post-toc-wrap',
    '.languages',
    '.pjax'
  ],
  analytics: false,
  cacheBust: false,
  scrollRestoration: false,
  scrollTo: !CONFIG.bookmark.enable
});

document.addEventListener('pjax:success', () => {
  pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  const hasTOC = document.querySelector('.post-toc');
  document.querySelector('.sidebar-inner').classList.toggle('sidebar-nav-active', hasTOC);
  document.querySelector(hasTOC ? '.sidebar-nav-toc' : '.sidebar-nav-overview').click();
  NexT.utils.updateSidebarPosition();
});
</script>


  






  



    <div class="pjax">


    </div>
</body>
</html>
