<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"nova-mist.github.io","root":"/","images":"/images","scheme":"Gemini","version":"8.2.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"}};
  </script>
<meta name="description" content="å‡†å¤‡é¡¹ç›®æ¦‚è¿° å‰å°å‚è€ƒï¼šFblog: åŸºäºvue+element-uiç®€æ´çš„åšå®¢æ¨¡æ¿ (gitee.com)ï¼ˆæ­¤æ¨¡æ¿ä¹Ÿæ˜¯åŸºäº vue-admin-template æ¨¡æ¿ï¼‰åŸºäº vue3 é€‰é¡¹å¼ API åå°å‚è€ƒï¼šPanJiaChen&#x2F;vue-admin-template: a vue2.0 minimal admin template (github.com) åŸºäº vue2  é‡æ„é¡¹ç›®å†ç¨‹ï¼š">
<meta property="og:type" content="article">
<meta property="og:title" content="åšå®¢é¡¹ç›®æ€»ç»“">
<meta property="og:url" content="https://nova-mist.github.io/2022/09/29/fblog-note/index.html">
<meta property="og:site_name" content="novamist blog">
<meta property="og:description" content="å‡†å¤‡é¡¹ç›®æ¦‚è¿° å‰å°å‚è€ƒï¼šFblog: åŸºäºvue+element-uiç®€æ´çš„åšå®¢æ¨¡æ¿ (gitee.com)ï¼ˆæ­¤æ¨¡æ¿ä¹Ÿæ˜¯åŸºäº vue-admin-template æ¨¡æ¿ï¼‰åŸºäº vue3 é€‰é¡¹å¼ API åå°å‚è€ƒï¼šPanJiaChen&#x2F;vue-admin-template: a vue2.0 minimal admin template (github.com) åŸºäº vue2  é‡æ„é¡¹ç›®å†ç¨‹ï¼š">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202209292104433.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202209141407890.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202209291451898.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202209261236200.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202209241254152.png">
<meta property="article:published_time" content="2022-09-29T12:57:31.000Z">
<meta property="article:modified_time" content="2022-09-29T13:05:10.018Z">
<meta property="article:author" content="Nova-mist">
<meta property="article:tag" content="vue">
<meta property="article:tag" content="web">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202209292104433.jpg">


<link rel="canonical" href="https://nova-mist.github.io/2022/09/29/fblog-note/">


<script data-pjax class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<title>åšå®¢é¡¹ç›®æ€»ç»“ | novamist blog</title>
  




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">novamist blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£<span class="badge">74</span></a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾<span class="badge">31</span></a></li>
        <li class="menu-item menu-item-stars"><a href="/stars/" rel="section"><i class="fa fa-heart fa-fw"></i>æ”¶é›†</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%86%E5%A4%87"><span class="nav-number">1.</span> <span class="nav-text">å‡†å¤‡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E6%A6%82%E8%BF%B0"><span class="nav-number">1.1.</span> <span class="nav-text">é¡¹ç›®æ¦‚è¿°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8%E6%97%A7%E9%A1%B9%E7%9B%AE"><span class="nav-number">1.2.</span> <span class="nav-text">å¯åŠ¨æ—§é¡¹ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#process-not-defined"><span class="nav-number">1.2.1.</span> <span class="nav-text">process not defined</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%A6%E4%B9%A0%E6%97%A7%E9%A1%B9%E7%9B%AE"><span class="nav-number">1.3.</span> <span class="nav-text">å­¦ä¹ æ—§é¡¹ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="nav-number">1.3.1.</span> <span class="nav-text">é¡¹ç›®ç»“æ„</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%81%E7%A7%BB"><span class="nav-number">1.4.</span> <span class="nav-text">è¿ç§»</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#vite-%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84-process"><span class="nav-number">1.4.1.</span> <span class="nav-text">vite é¡¹ç›®ä¸­çš„ process</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81-Vuex-to-Pinia"><span class="nav-number">1.4.2.</span> <span class="nav-text">å…¨å±€çŠ¶æ€ Vuex to Pinia</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#minix-to-Composition-API"><span class="nav-number">1.4.3.</span> <span class="nav-text">minix to Composition API</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC"><span class="nav-number">2.</span> <span class="nav-text">ä»£ç é£æ ¼</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8A%80%E6%9C%AF%E6%A0%88"><span class="nav-number">3.</span> <span class="nav-text">æŠ€æœ¯æ ˆ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SASS"><span class="nav-number">3.1.</span> <span class="nav-text">SASS</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">3.1.1.</span> <span class="nav-text">ä½¿ç”¨æ–¹æ³•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%A0%B7%E5%BC%8F%E5%8F%98%E9%87%8F"><span class="nav-number">3.1.2.</span> <span class="nav-text">ä½¿ç”¨æ ·å¼å˜é‡</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CSS-Modules"><span class="nav-number">3.1.3.</span> <span class="nav-text">CSS Modules</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#element-plus"><span class="nav-number">3.2.</span> <span class="nav-text">element plus</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#firebase"><span class="nav-number">3.3.</span> <span class="nav-text">firebase</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8"><span class="nav-number">3.3.1.</span> <span class="nav-text">åŸºç¡€ä½¿ç”¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E6%96%87%E7%AB%A0"><span class="nav-number">3.3.2.</span> <span class="nav-text">å­˜å‚¨æ–‡ç« </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-mock-server"><span class="nav-number">3.4.</span> <span class="nav-text">ä½¿ç”¨ mock server</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Router"><span class="nav-number">3.5.</span> <span class="nav-text">Router</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1"><span class="nav-number">3.5.1.</span> <span class="nav-text">åµŒå¥—è·¯ç”±</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E8%B7%AF%E7%94%B1"><span class="nav-number">3.5.2.</span> <span class="nav-text">åˆ›å»ºè·¯ç”±</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%87%8D%E7%BD%AE%E8%B7%AF%E7%94%B1"><span class="nav-number">3.5.3.</span> <span class="nav-text">é‡ç½®è·¯ç”±</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%A8%E7%BB%84%E4%BB%B6%E4%B8%AD%E4%BD%BF%E7%94%A8"><span class="nav-number">3.5.4.</span> <span class="nav-text">åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84-1"><span class="nav-number">4.</span> <span class="nav-text">é¡¹ç›®ç»“æ„</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%93%E6%9E%84%E6%A6%82%E8%BF%B0"><span class="nav-number">4.1.</span> <span class="nav-text">ç»“æ„æ¦‚è¿°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%87%E6%8D%A2%E6%A8%A1%E6%9D%BF"><span class="nav-number">4.2.</span> <span class="nav-text">åˆ‡æ¢æ¨¡æ¿</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E3%80%90%E6%97%A7%E3%80%91%E5%89%8D%E5%90%8E%E5%8F%B0-layout-%E5%88%86%E7%A6%BB"><span class="nav-number">4.3.</span> <span class="nav-text">ã€æ—§ã€‘å‰åå° layout åˆ†ç¦»</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E6%A0%B7%E5%BC%8F"><span class="nav-number">5.</span> <span class="nav-text">åŸºç¡€æ ·å¼</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-element-plus-%E6%A0%B7%E5%BC%8F"><span class="nav-number">5.1.</span> <span class="nav-text">ä¿®æ”¹ element plus æ ·å¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#style-css-%E5%8F%82%E8%80%83"><span class="nav-number">5.2.</span> <span class="nav-text">style.css å‚è€ƒ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%87%8D%E6%9E%84%E7%BB%84%E4%BB%B6"><span class="nav-number">6.</span> <span class="nav-text">é‡æ„ç»„ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E4%BA%9B%E6%95%88%E6%9E%9C"><span class="nav-number">6.1.</span> <span class="nav-text">ä¸€äº›æ•ˆæœ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#About"><span class="nav-number">6.2.</span> <span class="nav-text">About</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%A8%E5%8D%95-el-form"><span class="nav-number">6.2.1.</span> <span class="nav-text">è¡¨å• el-form</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Article"><span class="nav-number">6.3.</span> <span class="nav-text">Article</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tag"><span class="nav-number">6.4.</span> <span class="nav-text">Tag</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Markdown"><span class="nav-number">6.5.</span> <span class="nav-text">Markdown</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#404-page"><span class="nav-number">6.6.</span> <span class="nav-text">404 page</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Login"><span class="nav-number">6.7.</span> <span class="nav-text">Login</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BD%92%E6%A1%A3-%E6%A0%87%E7%AD%BE%E5%BD%92%E6%A1%A3"><span class="nav-number">6.8.</span> <span class="nav-text">å½’æ¡£ &#x2F;æ ‡ç­¾å½’æ¡£</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TagManage"><span class="nav-number">6.9.</span> <span class="nav-text">TagManage</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SidebarItem"><span class="nav-number">6.10.</span> <span class="nav-text">SidebarItem</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-Item-%E4%B8%AD%E7%9A%84%E6%B8%B2%E6%9F%93%E5%87%BD%E6%95%B0"><span class="nav-number">6.11.</span> <span class="nav-text">ä¿®æ”¹ Item ä¸­çš„æ¸²æŸ“å‡½æ•°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Article-List"><span class="nav-number">6.12.</span> <span class="nav-text">Article List</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Article-Detail"><span class="nav-number">6.13.</span> <span class="nav-text">Article Detail</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0"><span class="nav-number">7.</span> <span class="nav-text">åŠŸèƒ½å®ç°</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%A8%E5%B1%80%E7%99%BB%E5%BD%95%E6%8B%A6%E6%88%AA"><span class="nav-number">7.1.</span> <span class="nav-text">å…¨å±€ç™»å½•æ‹¦æˆª</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%99%BB%E5%BD%95%E9%80%BB%E8%BE%91"><span class="nav-number">7.2.</span> <span class="nav-text">ç™»å½•é€»è¾‘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8D%A2%E7%94%A8-Spring-Boot-API"><span class="nav-number">7.3.</span> <span class="nav-text">æ¢ç”¨ Spring Boot API</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="nav-number">7.4.</span> <span class="nav-text">å·¥å…·ç±»</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%81%E8%A3%85%E8%AF%B7%E6%B1%82"><span class="nav-number">7.5.</span> <span class="nav-text">å°è£…è¯·æ±‚</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Nova-mist"
      src="/uploads/avatar.png">
  <p class="site-author-name" itemprop="name">Nova-mist</p>
  <div class="site-description" itemprop="description">My blog about daily life and learning. :b</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">74</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">31</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/Nova-mist" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;Nova-mist" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fas fa-cat fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.bilibili.com/" title="https:&#x2F;&#x2F;www.bilibili.com&#x2F;" rel="noopener" target="_blank">Bilibili</a>
        </li>
    </ul>
  </div>

        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://nova-mist.github.io/2022/09/29/fblog-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="Nova-mist">
      <meta itemprop="description" content="My blog about daily life and learning. :b">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="novamist blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          åšå®¢é¡¹ç›®æ€»ç»“
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>
      

      <time title="åˆ›å»ºæ—¶é—´ï¼š2022-09-29 20:57:31 / ä¿®æ”¹æ—¶é—´ï¼š21:05:10" itemprop="dateCreated datePublished" datetime="2022-09-29T20:57:31+08:00">2022-09-29</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202209292104433.jpg" alt="blog-image-20220929-1664456668"></p>
<h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><h3 id="é¡¹ç›®æ¦‚è¿°"><a href="#é¡¹ç›®æ¦‚è¿°" class="headerlink" title="é¡¹ç›®æ¦‚è¿°"></a>é¡¹ç›®æ¦‚è¿°</h3><ul>
<li>å‰å°å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://gitee.com/fengziy/Fblog">Fblog: åŸºäºvue+element-uiç®€æ´çš„åšå®¢æ¨¡æ¿ (gitee.com)</a>ï¼ˆæ­¤æ¨¡æ¿ä¹Ÿæ˜¯åŸºäº vue-admin-template æ¨¡æ¿ï¼‰<strong>åŸºäº vue3 é€‰é¡¹å¼ API</strong></li>
<li>åå°å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://github.com/PanJiaChen/vue-admin-template">PanJiaChen/vue-admin-template: a vue2.0 minimal admin template (github.com)</a> <strong>åŸºäº vue2</strong></li>
</ul>
<p>é‡æ„é¡¹ç›®å†ç¨‹ï¼š</p>
<ol>
<li>è¿è¡Œæ—§é¡¹ç›®ã€æŸ¥çœ‹é¡¹ç›®ç»“æ„</li>
<li>ç ”ç©¶ç›¸å…³æŠ€æœ¯æ ˆå¹¶åˆ‡æ¢ä¸ºç›®å‰ vue3 ä¸»æµæŠ€æœ¯æ ˆ</li>
<li>æ·±å…¥å„ä¸ªç»„ä»¶ï¼Œä½¿ç”¨ <strong>vue3 ç»„åˆå¼ API</strong> é‡æ„</li>
<li>å¯¹æ¥åç«¯ API æ¥å£</li>
</ol>
<p>ğŸŸ¢é‡æ„é¡¹ç›®æŠ€æœ¯æ ˆï¼š</p>
<ul>
<li>vue3 + vite åˆ›å»ºé¡¹ç›®</li>
<li>element-plus ç»„ä»¶åº“</li>
<li>vue-router è·¯ç”±</li>
<li>pinia å…¨å±€çŠ¶æ€ç®¡ç†</li>
<li>tailwindcss å‘½åç±»æ ·å¼</li>
<li>axios è¯·æ±‚åç«¯(å°è£…æˆ request.js)</li>
<li>marked è§£æ Markdown</li>
<li>mockjs æµ‹è¯•æ•°æ®</li>
<li>sass å…¼å®¹ç”¨æ ·å¼</li>
</ul>
<span id="more"></span>



<h3 id="å¯åŠ¨æ—§é¡¹ç›®"><a href="#å¯åŠ¨æ—§é¡¹ç›®" class="headerlink" title="å¯åŠ¨æ—§é¡¹ç›®"></a>å¯åŠ¨æ—§é¡¹ç›®</h3><p>æ—§é¡¹ç›®ä½¿ç”¨äº† webpackï¼Œåœ¨å¯åŠ¨çš„æ—¶å€™é‡åˆ°äº† <em>Digital Envelope Routines::Unsupported</em> æŠ¥é”™ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://gankrin.org/how-to-fix-error-digital-envelope-routinesunsupported-in-node-js-or-react/">How To Fix Error - â€œDigital Envelope Routines::Unsupportedâ€ in Node.js or React ? - Gankrin</a></p>
<p>ä¿®æ”¹ <code>package.json</code></p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
    <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"set NODE_OPTIONS=--openssl-legacy-provider &amp;&amp; vue-cli-service serve"</span><span class="token punctuation">,</span>
        <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"set NODE_OPTIONS=--openssl-legacy-provider &amp;&amp; vue-cli-service build"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="process-not-defined"><a href="#process-not-defined" class="headerlink" title="process not defined"></a>process not defined</h4><p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202209141407890.png" alt="image-20220914140703165"></p>
<p>è‡ªè¡Œæ·»åŠ </p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// vite.config.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    define<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        process<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            platform<span class="token operator">:</span> <span class="token string">"win32"</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="å­¦ä¹ æ—§é¡¹ç›®"><a href="#å­¦ä¹ æ—§é¡¹ç›®" class="headerlink" title="å­¦ä¹ æ—§é¡¹ç›®"></a>å­¦ä¹ æ—§é¡¹ç›®</h3><h4 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h4><ul>
<li>api ç›®å½•å’Œ views ç›®å½•ä¸­çš„æ¨¡å—å¯¹åº”</li>
<li>å…¨å±€å…¬ç”¨çš„ç»„ä»¶æ”¾åœ¨ components ç›®å½•ï¼Œé¡µé¢çº§ç»„ä»¶æ”¾åœ¨ views ç›®å½•ã€‚</li>
<li>store ä¸»è¦å­˜æ”¾ç™»å½• tokenã€ç”¨æˆ·ä¿¡æ¯ï¼Œä½è€¦åˆçš„æ–‡ç« æ•°æ®å¯ä»¥æ”¾åœ¨å•ç‹¬é¡µé¢ä¸­</li>
<li>å°è£… axios</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903476661583880">æ‰‹æ‘¸æ‰‹ï¼Œå¸¦ä½ ç”¨vueæ’¸åå° ç³»åˆ—ä¸€ï¼ˆåŸºç¡€ç¯‡ï¼‰ - æ˜é‡‘ (juejin.cn)</a></p>
<p>ä¸è®¤è¯†çš„å·¥å…·ï¼š</p>
<ul>
<li>plopfile</li>
<li>postcss</li>
<li>jest</li>
<li>babel</li>
<li>travis</li>
<li>editorconfig</li>
<li>mock.js</li>
</ul>
<p><code>.env.development</code> å’Œ <code>.env.production</code> æ˜¯ç”¨æ¥åˆ‡æ¢æ¥å£çš„ç¯å¢ƒé…ç½®æ–‡ä»¶ã€‚</p>
<h3 id="è¿ç§»"><a href="#è¿ç§»" class="headerlink" title="è¿ç§»"></a>è¿ç§»</h3><h4 id="vite-é¡¹ç›®ä¸­çš„-process"><a href="#vite-é¡¹ç›®ä¸­çš„-process" class="headerlink" title="vite é¡¹ç›®ä¸­çš„ process"></a>vite é¡¹ç›®ä¸­çš„ process</h4><blockquote>
<p>process is not defined</p>
<p>process.cwd is not a function</p>
</blockquote>
<p><code>process</code> å¯¹è±¡æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œæš´éœ²å½“å‰ Node.jsè¿›ç¨‹çš„ä¿¡æ¯ï¼š</p>
<ul>
<li><code>process.env </code> ç¯å¢ƒå˜é‡</li>
<li><code>process.cwd()</code> å½“å‰è¿›ç¨‹å·¥ä½œç›®å½•</li>
<li><code>process.platform</code> å½“å‰è¿›ç¨‹è¿è¡Œçš„æ“ä½œç³»ç»Ÿå¹³å°</li>
</ul>
<p>åœ¨ vite é¡¹ç›®ä¸­ï¼Œ<code>process</code> ç‰¹æ€§å·²ç»è¢«ç§»é™¤äº†ï¼Œè¦åœ¨ä»£ç ä¸­è·å–ç¯å¢ƒå˜é‡éœ€è¦ä¿®æ”¹</p>
<p> <code>process.env</code> å˜ä¸º <code>import.meta.env</code> ã€‚</p>
<p>è‡ªå®šä¹‰çš„é…ç½®ä¾‹å¦‚æ¥å£åœ°å€ç­‰éœ€è¦å†™åœ¨ <code>.env</code> æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”éœ€è¦ä»¥ <code>VITE_</code> ä¸ºå‰ç¼€çš„å˜é‡æ‰ä¼šæš´éœ²ç»™å®¢æˆ·ç«¯ä»£ç ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://cn.vitejs.dev/guide/env-and-mode.html">ç¯å¢ƒå˜é‡å’Œæ¨¡å¼ | Vite å®˜æ–¹ä¸­æ–‡æ–‡æ¡£ (vitejs.dev)</a></p>
<hr>
<p>ä» vue-cli è¿ç§»åˆ° vite é¡¹ç›®çš„æ—¶å€™ï¼Œæœ‰çš„ä»£ç ä½¿ç”¨çš„ä¾èµ–è¿˜ä¼šç›´æ¥è°ƒç”¨ <code>process</code> ï¼Œä¾‹å¦‚ node çš„ <code>path</code> æ¨¡å—ï¼š</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> isWindows <span class="token operator">=</span> process<span class="token punctuation">.</span>platform <span class="token operator">===</span> <span class="token string">'win32'</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">:</span> process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>æ­¤æ—¶ä¼šæ˜¾ç¤ºæœªå®šä¹‰æŠ¥é”™ã€‚</p>
<p>å‚è€ƒï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/71104342/unable-to-access-process-variable-in-vue3js-vite-project">javascript - Unable to access process variable in Vue3JS Vite project - Stack Overflow</a></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/72221740/how-do-i-polyfill-the-process-node-module-in-the-vite-dev-server">javascript - How do I polyfill the â€œprocessâ€ Node module in the Vite dev server? - Stack Overflow</a></li>
<li><a target="_blank" rel="noopener" href="https://gist.github.com/FbN/0e651105937c8000f10fefdf9ec9af3d">vite.config.js node built-in polyfills (github.com)</a></li>
</ul>
<p>å¦‚æœåªæ˜¯éœ€è¦ <code>process.ev</code> æˆ– <code>process.platform</code> å¯ä»¥å°è¯•åœ¨ <code>vite.config.js</code> ä¸­è®¾ç½®ï¼š</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">define<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    process<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      platform<span class="token operator">:</span> <span class="token string">"win32"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token comment">// "process.platform": "'win32'",</span>
    <span class="token string">"process.ev"</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ğŸŸ¢æœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆæ˜¯æŒ‰ç…§æ­¤ <a target="_blank" rel="noopener" href="https://gist.github.com/FbN/0e651105937c8000f10fefdf9ec9af3d">vite é…ç½®æ–‡ä»¶</a> çš„å†™æ³•è¿›è¡Œè®¾ç½®ã€‚</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i @esbuild-plugins/node-globals-polyfill @esbuild-plugins/node-modules-polyfill<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineConfig <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vite"</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">"dotenv/config"</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> viteMockServe <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vite-plugin-mock"</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">"@vitejs/plugin-vue"</span><span class="token punctuation">;</span>

<span class="token comment">// @</span>
<span class="token keyword">import</span> alias <span class="token keyword">from</span> <span class="token string">"@rollup/plugin-alias"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> resolve <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"path"</span><span class="token punctuation">;</span>

<span class="token comment">// yarn add --dev @esbuild-plugins/node-globals-polyfill</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> NodeGlobalsPolyfillPlugin <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@esbuild-plugins/node-globals-polyfill"</span><span class="token punctuation">;</span>
<span class="token comment">// yarn add --dev @esbuild-plugins/node-modules-polyfill</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> NodeModulesPolyfillPlugin <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@esbuild-plugins/node-modules-polyfill"</span><span class="token punctuation">;</span>
<span class="token comment">// You don't need to add this to deps, it's included by @esbuild-plugins/node-modules-polyfill</span>
<span class="token keyword">import</span> rollupNodePolyFill <span class="token keyword">from</span> <span class="token string">"rollup-plugin-node-polyfills"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> projectRootDir <span class="token operator">=</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// https://vitejs.dev/config/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">viteMockServe</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      mockPath<span class="token operator">:</span> <span class="token string">"./src/mock"</span><span class="token punctuation">,</span>
      localEnabled<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">alias</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      entries<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span>
          find<span class="token operator">:</span> <span class="token string">"@"</span><span class="token punctuation">,</span>
          replacement<span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>projectRootDir<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// define: &#123;</span>
  <span class="token comment">//   process: &#123;</span>
  <span class="token comment">//     platform: "win32",</span>
  <span class="token comment">//   &#125;,</span>
  <span class="token comment">//   "process.ev": process.env,</span>
  <span class="token comment">// &#125;,</span>
  server<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    host<span class="token operator">:</span> <span class="token string">"0.0.0.0"</span><span class="token punctuation">,</span>
    port<span class="token operator">:</span> <span class="token number">5173</span><span class="token punctuation">,</span>
    open<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    cors<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

  resolve<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    alias<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      util<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/util"</span><span class="token punctuation">,</span>
      sys<span class="token operator">:</span> <span class="token string">"util"</span><span class="token punctuation">,</span>
      events<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/events"</span><span class="token punctuation">,</span>
      stream<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/stream"</span><span class="token punctuation">,</span>
      path<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/path"</span><span class="token punctuation">,</span>
      querystring<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/qs"</span><span class="token punctuation">,</span>
      punycode<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/punycode"</span><span class="token punctuation">,</span>
      url<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/url"</span><span class="token punctuation">,</span>
      string_decoder<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/string-decoder"</span><span class="token punctuation">,</span>
      http<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/http"</span><span class="token punctuation">,</span>
      https<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/http"</span><span class="token punctuation">,</span>
      os<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/os"</span><span class="token punctuation">,</span>
      assert<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/assert"</span><span class="token punctuation">,</span>
      constants<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/constants"</span><span class="token punctuation">,</span>
      _stream_duplex<span class="token operator">:</span>
        <span class="token string">"rollup-plugin-node-polyfills/polyfills/readable-stream/duplex"</span><span class="token punctuation">,</span>
      _stream_passthrough<span class="token operator">:</span>
        <span class="token string">"rollup-plugin-node-polyfills/polyfills/readable-stream/passthrough"</span><span class="token punctuation">,</span>
      _stream_readable<span class="token operator">:</span>
        <span class="token string">"rollup-plugin-node-polyfills/polyfills/readable-stream/readable"</span><span class="token punctuation">,</span>
      _stream_writable<span class="token operator">:</span>
        <span class="token string">"rollup-plugin-node-polyfills/polyfills/readable-stream/writable"</span><span class="token punctuation">,</span>
      _stream_transform<span class="token operator">:</span>
        <span class="token string">"rollup-plugin-node-polyfills/polyfills/readable-stream/transform"</span><span class="token punctuation">,</span>
      timers<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/timers"</span><span class="token punctuation">,</span>
      console<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/console"</span><span class="token punctuation">,</span>
      vm<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/vm"</span><span class="token punctuation">,</span>
      zlib<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/zlib"</span><span class="token punctuation">,</span>
      tty<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/tty"</span><span class="token punctuation">,</span>
      domain<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/domain"</span><span class="token punctuation">,</span>
      buffer<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/buffer-es6"</span><span class="token punctuation">,</span>

      process<span class="token operator">:</span> <span class="token string">"rollup-plugin-node-polyfills/polyfills/process-es6"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

  optimizeDeps<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    esbuildOptions<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// Node.js global to browser globalThis</span>
      define<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        global<span class="token operator">:</span> <span class="token string">"globalThis"</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token comment">// Enable esbuild polyfill plugins</span>
      plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token function">NodeGlobalsPolyfillPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
          process<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          buffer<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">NodeModulesPolyfillPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

  build<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    outDir<span class="token operator">:</span> <span class="token string">"dist"</span><span class="token punctuation">,</span>
    rollupOptions<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// Enable rollup polyfills plugin</span>
        <span class="token comment">// used during production bundling</span>
        <span class="token function">rollupNodePolyFill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="å…¨å±€çŠ¶æ€-Vuex-to-Pinia"><a href="#å…¨å±€çŠ¶æ€-Vuex-to-Pinia" class="headerlink" title="å…¨å±€çŠ¶æ€ Vuex to Pinia"></a>å…¨å±€çŠ¶æ€ Vuex to Pinia</h4><p><a target="_blank" rel="noopener" href="https://pinia.vuejs.org/cookbook/migration-vuex.html#converting-a-single-module">Migrating from Vuex â‰¤4 | Pinia (vuejs.org)</a></p>
<ol>
<li>vuex ä¸­çš„ mutations ä¹Ÿå˜ä¸ºäº† Pinia çš„ actionsï¼Œå¹¶ä¸”å»æ‰äº†å‚æ•°ä¸­çš„ <code>state</code>ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>this</code> è®¿é—® stateï¼Œç®­å¤´å‡½æ•°æ”¹ä¸ºæ™®é€šæ–¹æ³•</li>
<li>vuex ä¸­çš„ actions å»æ‰ <code>&#123;state, commit&#125;</code> å‚æ•°ï¼Œä¸å†ä½¿ç”¨ <code>commit</code> è€Œæ˜¯ç›´æ¥ä½¿ç”¨ <code>this</code> è°ƒç”¨ actions ï¼ˆåŸ mutationsï¼‰</li>
</ol>
<h4 id="minix-to-Composition-API"><a href="#minix-to-Composition-API" class="headerlink" title="minix to Composition API"></a>minix to Composition API</h4><p><a target="_blank" rel="noopener" href="https://www.syncfusion.com/blogs/post/can-the-composition-api-replace-vue-mixins.aspx">Can the Composition API Replace Vue Mixins? | Syncfusion Blogs</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904136065056781">Vue3 Composition APIå¦‚ä½•æ›¿æ¢Vue Mixins - æ˜é‡‘ (juejin.cn)</a></p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
import useCounter from &quot;.&#x2F;useCounter.js&quot;;
const &#123; count, double, increment &#125; &#x3D; useCounter();
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>or</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script&gt;
&#x2F;&#x2F; MyComponent.js
import useCounter from &quot;.&#x2F;useCounter.js&quot;;

export default &#123;
  setup() &#123;
    const &#123; count, double, increment &#125; &#x3D; useCounter();
    return &#123;
      count,
      double,
      increment
    &#125;
  &#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h2 id="ä»£ç é£æ ¼"><a href="#ä»£ç é£æ ¼" class="headerlink" title="ä»£ç é£æ ¼"></a>ä»£ç é£æ ¼</h2><p>ä½¿ç”¨ Vue3 çš„ç»„åˆå¼ API</p>
<p>ç»„åˆå¼è¯­æ³•ç³– <code>&lt;script setup&gt;</code> å¯ä»¥å’Œ <code>&lt;script&gt;</code> é€‰é¡¹å¼ä¸€èµ·ä½¿ç”¨ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/style-guide/">Style Guide | Vue.js (vuejs.org)</a></p>
<h2 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a>æŠ€æœ¯æ ˆ</h2><h3 id="SASS"><a href="#SASS" class="headerlink" title="SASS"></a>SASS</h3><h4 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h4><blockquote>
<p>SASSç‰ˆæœ¬3.0ä¹‹å‰çš„åç¼€åä¸º.sassï¼Œè€Œç‰ˆæœ¬3.0ä¹‹åçš„åç¼€å.scssã€‚</p>
</blockquote>
<p><code>scss</code> ä¼šåœ¨è¿è¡Œæ—¶ç¼–è¯‘æˆ <code>css</code></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">add</span> -D sass<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>å¼•å…¥ <code>.scss</code> çš„æ–¹æ³•ï¼š<a target="_blank" rel="noopener" href="https://cn.vitejs.dev/guide/features.html#css">å‚è€ƒ Vite å®˜æ–¹æ–‡æ¡£</a></p>
<ul>
<li><p>å…¨å±€å¼•å…¥</p>
<ul>
<li> <code>main.js</code></li>
<li><code>style.css</code></li>
<li><code>App.vue</code> çš„ <code>&lt;script&gt;</code> æ ‡ç­¾</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// main.js or App.vue &lt;script></span>
<span class="token keyword">import</span> <span class="token string">"/src/styles/body.scss"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"./styles/body.scss"</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li><p>åœ¨ <code>App.vue</code> çš„ <code>&lt;style&gt;</code> æ ‡ç­¾ä¸­å¼•å…¥ï¼Œå¯æ˜¯ä½¿ç”¨ <code>scoped</code> é™å®šèŒƒå›´ï¼Œä¸åŠ å°±æ˜¯å…¨å±€æ³¨å…¥</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;
@import url(&quot;.&#x2F;styles&#x2F;body.scss&quot;);
&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h4 id="ä½¿ç”¨æ ·å¼å˜é‡"><a href="#ä½¿ç”¨æ ·å¼å˜é‡" class="headerlink" title="ä½¿ç”¨æ ·å¼å˜é‡"></a>ä½¿ç”¨æ ·å¼å˜é‡</h4><p>ä½¿ç”¨ç±»ä¼¼ CSS Modules çš„å½¢å¼å¼•å…¥ scss æ–‡ä»¶ä¸­çš„æ ·å¼å˜é‡</p>
<ol>
<li><p>å¿…é¡»è¦ä»¥ <code>xxx.module.scss</code> çš„æ–¹å¼å‘½åï¼Œå¦åˆ™å¼•å…¥æ— æ•ˆã€‚</p>
<pre class="line-numbers language-scss" data-language="scss"><code class="language-scss"><span class="token property"><span class="token variable">$menuBg</span></span><span class="token punctuation">:</span> #304156<span class="token punctuation">;</span>

<span class="token selector">:export </span><span class="token punctuation">&#123;</span>
    <span class="token property">menuBg</span><span class="token punctuation">:</span> <span class="token variable">$menuBg</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>åœ¨ <code>App.vue</code> ä¸­å¼•å…¥æ•´ä½“ï¼Œç„¶åé€šè¿‡è§£æ„è·å–å˜é‡</p>
</li>
<li><p>åœ¨ <code>&lt;style&gt;</code> æ ‡ç­¾ä¸­ä½¿ç”¨ <code>v-bind</code> ç»‘å®šæ ·å¼å˜é‡ã€‚æ ·å¼å˜é‡ä¹Ÿå¯ä»¥ä½œä¸º<strong>å­—ç¬¦ä¸²å±æ€§</strong>ä¼ é€’ç»™ element-plus ç­‰ç»„ä»¶åº“ã€‚</p>
</li>
<li><p>ç»™è¦åº”ç”¨è¯¥æ ·å¼çš„æ ‡ç­¾åŠ ä¸€ä¸ª class åå­—å§ã€‚</p>
</li>
</ol>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
import variables from &quot;@&#x2F;styles&#x2F;body.scss&quot;;
const &#123; menuBg &#125; &#x3D; variables;
&lt;&#x2F;script&gt;
&lt;template&gt;
	&lt;h1 class&#x3D;&quot;test&quot;&gt;Test&lt;&#x2F;h1&gt;
&lt;&#x2F;template&gt;
&lt;style scoped&gt;
    .test &#123;
      background-color: v-bind(menuBg);
    &#125;
&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å…³äºè§£æ„å¼•å…¥çš„ scss è¿™ç§ç”¨æ³•çš„å‚è€ƒï¼š</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://github.com/vitejs/vite/discussions/9601">How to share variables between JS and SCSS? Â· Discussion #9601 Â· vitejs/vite (github.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/webpack-contrib/sass-loader/issues/951#issuecomment-1139555654">ä½¿ç”¨äº†@import çš„ .module.scss ä¾‹å­</a></li>
</ol>
<h4 id="CSS-Modules"><a href="#CSS-Modules" class="headerlink" title="CSS Modules"></a>CSS Modules</h4><p>å…·ä½“ç”¨æ³•å°±æ˜¯åœ¨ <code>xxx.module.css</code> æˆ– <code>xxx.module.scss</code> ä¸­å®šä¹‰ç±»æ ·å¼ï¼š</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* index.module.css */</span>
<span class="token selector">.red</span> <span class="token punctuation">&#123;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.aquaColor</span> <span class="token punctuation">&#123;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> aquamarine<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ¥ç€åœ¨ <code>App.vue</code> ä¸­å¼•å…¥å¹¶æ·»åŠ åœ¨ç›¸åº”æ ‡ç­¾ä¸Š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
import classes from &quot;.&#x2F;styles&#x2F;index.module.css&quot;;
&lt;&#x2F;script&gt;
&lt;template&gt;
  &lt;h1 :class&#x3D;&quot;classes.aquaColor&quot;&gt;Test&lt;&#x2F;h1&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¹Ÿå¯ä»¥æ ¹æ® id è®¾ç½®ç±»å</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
import &#123; onMounted &#125; from &quot;vue&quot;;
import classes from &quot;.&#x2F;styles&#x2F;index.module.css&quot;;

import &#123; red, aquaColor &#125; from &quot;.&#x2F;styles&#x2F;index.module.css&quot;;

onMounted(() &#x3D;&gt; &#123;
  &#x2F;&#x2F; ok
  document.getElementById(&quot;test&quot;).className &#x3D; classes.aquaColor;

  &#x2F;&#x2F; ok
  &#x2F;&#x2F; document.getElementById(&quot;test&quot;).className &#x3D; aquaColor;
&#125;);
&lt;&#x2F;script&gt;
&lt;template&gt;
  &lt;h1 id&#x3D;&quot;test&quot;&gt;Test&lt;&#x2F;h1&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ³¨æ„ï¼šå› ä¸º css ä¸­æ”¯æŒ kebab-case(çŸ­æ¨ªçº¿å‘½å)ï¼Œä½† js ä¸æ”¯æŒï¼Œéœ€è¦å¼€å¯ <strong>camelCase æ ¼å¼å˜é‡åè½¬æ¢</strong> </p>
<p><a target="_blank" rel="noopener" href="https://cn.vitejs.dev/guide/features.html#css">å‚è€ƒå®˜æ–¹æ–‡æ¡£</a></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* index.module.css */</span>
<span class="token selector">.blue-color</span> <span class="token punctuation">&#123;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// vite.config.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token operator">...</span><span class="token punctuation">,</span>
  css<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    modules<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      localsConvention<span class="token operator">:</span> <span class="token string">"camelCaseOnly"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç„¶ååœ¨ä¸Šé¢çš„ä½¿ç”¨æ–¹æ³•ä¸­å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨ <code>blueColor</code> å˜é‡äº†</p>
<h3 id="element-plus"><a href="#element-plus" class="headerlink" title="element plus"></a>element plus</h3><p>ç»„ä»¶åº“</p>
<p><code>&lt;el-row&gt;</code> <code>&lt;el-col&gt;</code> å¸ƒå±€ç®¡ç†</p>
<p><code>&lt;el-menu&gt;</code> èœå•ã€å¤šçº§èœå•ï¼Œå¯ä»¥ä½œä¸º<strong>å¯¼èˆªæ </strong></p>
<p><code>&lt;el-form&gt;</code> è¡¨å•çš„ <code>:model</code> æ˜¯ä¸“æœ‰å±æ€§ï¼Œ<code>&lt;el-input&gt;</code> çš„ <code>v-model</code> æ˜¯åŒå‘ç»‘å®šæŒ‡ä»¤ï¼Œæ²¡æœ‰ç®€å†™çš„å½¢å¼ã€‚å¯ä»¥é€šè¿‡æ ‡ç­¾çš„ ref å±æ€§è·å–è¡¨å•è¿›è¡ŒéªŒè¯æˆ–é‡ç½®</p>
<p><code>&lt;el-tag&gt;</code> å¾ˆå¥½ç”¨</p>
<blockquote>
<p>åº“å‡çº§ element-ui -&gt; element-plus,</p>
<p>Message -&gt; ElMessage</p>
</blockquote>
<hr>
<p><a target="_blank" rel="noopener" href="https://www.jb51.net/article/249027.htm">Element el-row el-col å¸ƒå±€ç»„ä»¶è¯¦è§£_vue.js_è„šæœ¬ä¹‹å®¶ (jb51.net)</a></p>
<p>å“åº”å¼å¸ƒå±€å°±æ˜¯åœ¨ä¸åŒçš„å±å¹•å®½åº¦å æ¯”ä¸åŒ ï¼ˆn / 24ï¼‰</p>
<p><code>ellipsis</code> å±æ€§ä¸éšè— item</p>
<p>ä¸ <code>vue-router</code> æ­é…ä½¿ç”¨ï¼ŒæœªæŒ‡å®š <code>route</code> å±æ€§åˆ™é»˜è®¤ä½¿ç”¨ <code>index</code> ä½œä¸ºè·¯å¾„ã€‚</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu</span> <span class="token attr-name">:router</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">:route</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123; path: <span class="token punctuation">'</span>/<span class="token punctuation">'</span> &#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><a target="_blank" rel="noopener" href="https://element-plus.gitee.io/en-US/component/layout.html#utility-classes-for-hiding-elements">Layout | Element Plus (gitee.io)</a></p>
<p>å“åº”å¼éšè—å…ƒç´  <code>hidden-sm-and-down</code></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// main.js</span>
<span class="token keyword">import</span> <span class="token string">'element-plus/theme-chalk/display.css'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>side-img hidden-sm-and-down<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@/assets/side-img.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vue.svg<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><strong>ä½¿ç”¨ icon</strong></p>
<p><a target="_blank" rel="noopener" href="https://element-plus.gitee.io/en-US/component/icon.html#icon-collection">Icon | Element Plus (gitee.io)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jb51.net/article/244809.htm">Element Plusçš„el-iconæ€ä¹ˆç”¨_vue.js_è„šæœ¬ä¹‹å®¶ (jb51.net)</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> @element-plus/icons-vue<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> ElementPlusIconsVue <span class="token keyword">from</span> <span class="token string">"@element-plus/icons-vue"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ³¨å†ŒIcons å…¨å±€ç»„ä»¶</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> iconName <span class="token keyword">in</span> ElementPlusIconsVue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>iconName<span class="token punctuation">,</span> ElementPlusIconsVue<span class="token punctuation">[</span>iconName<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>article-views<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>View</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">></span></span>
    é˜…è¯»é‡ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>ä¸‡
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="firebase"><a href="#firebase" class="headerlink" title="firebase"></a>firebase</h3><h4 id="åŸºç¡€ä½¿ç”¨"><a href="#åŸºç¡€ä½¿ç”¨" class="headerlink" title="åŸºç¡€ä½¿ç”¨"></a>åŸºç¡€ä½¿ç”¨</h4><p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// è·å–ä¸€æ¬¡æ•°æ®</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> db <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@/firebase"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> collection<span class="token punctuation">,</span> getDocs <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"firebase/firestore"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> todos <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// get todo</span>
<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> querySnapshot <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getDocs</span><span class="token punctuation">(</span><span class="token function">collection</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> <span class="token string">"todos"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
    <span class="token keyword">let</span> fbTodos <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    querySnapshot<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">doc</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>doc<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token string">" => "</span><span class="token punctuation">,</span> doc<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> todo <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
            id<span class="token operator">:</span> doc<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
            conent<span class="token operator">:</span> doc<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token punctuation">,</span>
            done<span class="token operator">:</span> doc<span class="token punctuation">,</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>done
        <span class="token punctuation">&#125;</span>
        fbTodos<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>todo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    todos<span class="token punctuation">.</span>value <span class="token operator">=</span> fbTodos<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ˜¾ç¤ºæ–‡ç« åˆ—è¡¨</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// å®æ—¶æ£€æµ‹æ•°æ®</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> db <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@/firebase"</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> collection<span class="token punctuation">,</span> onSnapshot <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"firebase/firestore"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> onMounted<span class="token punctuation">,</span> ref <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> cards <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token function">onSnapshot</span><span class="token punctuation">(</span><span class="token function">collection</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> <span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">querySnapshot</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> db_cards <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    querySnapshot<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">doc</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// console.log(doc.id, " => ", doc.data());</span>
      <span class="token keyword">const</span> card <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        id<span class="token operator">:</span> doc<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        title<span class="token operator">:</span> doc<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>title<span class="token punctuation">,</span>
        description<span class="token operator">:</span> doc<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>description<span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
      db_cards<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>card<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    cards<span class="token punctuation">.</span>value <span class="token operator">=</span> db_cards<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æŸ¥è¯¢è¯·æ±‚</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> db <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@/firebase"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> collection<span class="token punctuation">,</span> query<span class="token punctuation">,</span> where<span class="token punctuation">,</span> getDocs <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"firebase/firestore"</span><span class="token punctuation">;</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// query to firebase</span>
  <span class="token keyword">const</span> q <span class="token operator">=</span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token function">collection</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> <span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">where</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"=="</span><span class="token punctuation">,</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// éœ€è¦å¯¹åº”ç±»å‹</span>

  <span class="token keyword">const</span> querySnapshot <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getDocs</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>

  querySnapshot<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">doc</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>doc<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token string">" => "</span><span class="token punctuation">,</span> doc<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="å­˜å‚¨æ–‡ç« "><a href="#å­˜å‚¨æ–‡ç« " class="headerlink" title="å­˜å‚¨æ–‡ç« "></a>å­˜å‚¨æ–‡ç« </h4><p>ğŸŸ¢é€šè¿‡å­˜å‚¨ base64 ç¼–ç æ¥è§£å†³æ¢è¡Œé—®é¢˜</p>
<p>å·¥å…·ï¼š<a target="_blank" rel="noopener" href="https://www.base64encode.org/">Base64 Encode and Decode - Online</a></p>
<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/30106476/using-javascripts-atob-to-decode-base64-doesnt-properly-decode-utf-8-strings">encoding - Using Javascriptâ€™s atob to decode base64 doesnâ€™t properly decode utf-8 strings - Stack Overflow</a></p>
<p>ä½¿ç”¨ <code>marked</code> æ¥è§£æ markdown</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> marked
<span class="token function">npm</span> <span class="token function">install</span> highlight.js<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> marked <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"marked"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ref<span class="token punctuation">,</span> computed <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> hljs <span class="token keyword">from</span> <span class="token string">"highlight.js"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">"highlight.js/styles/atom-one-dark.css"</span><span class="token punctuation">;</span>

marked<span class="token punctuation">.</span><span class="token function">setOptions</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  renderer<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">marked<span class="token punctuation">.</span>Renderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function-variable function">highlight</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">code<span class="token punctuation">,</span> lang</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// const hljs = require("highlight.js");</span>
    <span class="token keyword">const</span> language <span class="token operator">=</span> hljs<span class="token punctuation">.</span><span class="token function">getLanguage</span><span class="token punctuation">(</span>lang<span class="token punctuation">)</span> <span class="token operator">?</span> lang <span class="token operator">:</span> <span class="token string">"plaintext"</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>language<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> hljs<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> language <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token comment">// return hljs.highlightAuto(code).value;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  langPrefix<span class="token operator">:</span> <span class="token string">"hljs language-"</span><span class="token punctuation">,</span> <span class="token comment">// highlight.js css expects a top-level 'hljs' class.</span>
  pedantic<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  gfm<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  breaks<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  sanitize<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  smartLists<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  smartypants<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  xhtml<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> db_post <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  title<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  createAt<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  description<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  content<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> markdownToHtml <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">marked</span><span class="token punctuation">(</span>db_post<span class="token punctuation">.</span>value<span class="token punctuation">.</span>content<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// query to firebase</span>
    
    <span class="token comment">// destruct from doc.data()</span>
    
    <span class="token comment">// decode base4 content</span>
    db_post<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
      title<span class="token punctuation">,</span>
      createAt<span class="token punctuation">,</span>
      description<span class="token punctuation">,</span>
      content<span class="token operator">:</span> <span class="token function">b64DecodeUnicode</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">// å¯ä»¥æå–ä¸º utils </span>
<span class="token keyword">function</span> <span class="token function">b64DecodeUnicode</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>
    <span class="token function">atob</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"%"</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token string">"00"</span> <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="ä½¿ç”¨-mock-server"><a href="#ä½¿ç”¨-mock-server" class="headerlink" title="ä½¿ç”¨ mock server"></a>ä½¿ç”¨ mock server</h3><p><a target="_blank" rel="noopener" href="https://github.com/vbenjs/vite-plugin-mock">vbenjs/vite-plugin-mock: A mock plugin for vite.use mockjs. (github.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/blackhub/article/details/124587427">vue3+vite2ä¸­ä½¿ç”¨mock_zasulançš„åšå®¢-CSDNåšå®¢_vite ä½¿ç”¨mock</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> -D mockjs vite-plugin-mock<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><code>/src/mock/test.js</code></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// test.js ä»…åšç¤ºä¾‹: é€šè¿‡GETè¯·æ±‚è¿”å›ä¸€ä¸ªåå­—æ•°ç»„</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span>
  <span class="token punctuation">&#123;</span>
    url<span class="token operator">:</span> <span class="token string">"/api/getUser"</span><span class="token punctuation">,</span>
    method<span class="token operator">:</span> <span class="token string">"get"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">response</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
        code<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
        message<span class="token operator">:</span> <span class="token string">"ok"</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"tom"</span><span class="token punctuation">,</span> <span class="token string">"jerry"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> viteMockServe <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vite-plugin-mock"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">viteMockServe</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      mockPath<span class="token operator">:</span> <span class="token string">"./src/mock"</span><span class="token punctuation">,</span>
      localEnabled<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token operator">...</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
import axios from &quot;axios&quot;;
import &#123; onMounted &#125; from &quot;vue&quot;;

onMounted(() &#x3D;&gt; &#123;
  axios.get(&quot;&#x2F;api&#x2F;getUser&quot;).then((res) &#x3D;&gt; &#123;
    console.log(res);
  &#125;);
&#125;);
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="Router"><a href="#Router" class="headerlink" title="Router"></a>Router</h3><ul>
<li>å¯ä»¥åµŒå¥—è·¯ç”±æˆ–è§£æ„è·¯ç”±ç»„</li>
<li>å¯ä»¥åœ¨è¡Œå†…ç›´æ¥å¼•å…¥é¡µé¢ç»„ä»¶<br><code>component: () =&gt; import(&quot;@/pages/login/index.vue&quot;)</code></li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> adminRoutes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token keyword">const</span> componentRouter <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    path<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    meta<span class="token operator">:</span> <span class="token punctuation">&#123;</span> title<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Layout<span class="token punctuation">,</span>
    redirect<span class="token operator">:</span> <span class="token string">'noRedirect'</span><span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span>


<span class="token keyword">export</span> <span class="token keyword">const</span> constantRoutes <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
   	 path<span class="token operator">:</span> <span class="token string">"/admin"</span><span class="token punctuation">,</span>
   	 redirect<span class="token operator">:</span> <span class="token string">"/admin/dashboard"</span><span class="token punctuation">,</span>
 	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token comment">// å¯ä»¥è§£æ„è·¯ç”±ç»„</span>
    <span class="token operator">...</span>adminRoutes<span class="token punctuation">,</span> 
    <span class="token comment">// å¯ä»¥åµŒå¥—è·¯ç”±</span>
    componentsRouter<span class="token punctuation">,</span>

    <span class="token punctuation">&#123;</span>
        path<span class="token operator">:</span> <span class="token string">"/login"</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">"Login"</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"@/pages/login/index.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    
    <span class="token comment">// 404 page must be placed at the end !!!</span>
    <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"/:pathMatch(.*)*"</span><span class="token punctuation">,</span> redirect<span class="token operator">:</span> <span class="token string">"/404"</span><span class="token punctuation">,</span> hidden<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="åµŒå¥—è·¯ç”±"><a href="#åµŒå¥—è·¯ç”±" class="headerlink" title="åµŒå¥—è·¯ç”±"></a>åµŒå¥—è·¯ç”±</h4><ol>
<li>åªèƒ½ä¸€å±‚ä¸€å±‚ children åµŒå¥—</li>
<li>å­å±‚çš„ path ä¸ç”¨å†™ <code>/</code>ï¼Œé‡å®šå‘éœ€è¦å†™<strong>å®Œæ•´è·¯å¾„</strong></li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
        path<span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span> Layout<span class="token punctuation">,</span>
        redirect<span class="token operator">:</span> <span class="token string">"/dashboard"</span><span class="token punctuation">,</span>
        children<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">&#123;</span>
                path<span class="token operator">:</span> <span class="token string">"dashboard"</span><span class="token punctuation">,</span>
                <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"@/views/dashboard/index"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">"Dashboard"</span><span class="token punctuation">,</span>
                meta<span class="token operator">:</span> <span class="token punctuation">&#123;</span> title<span class="token operator">:</span> <span class="token string">"Dashboard"</span><span class="token punctuation">,</span> icon<span class="token operator">:</span> <span class="token string">"dashboard"</span><span class="token punctuation">,</span> affix<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
        path<span class="token operator">:</span> <span class="token string">"/guide"</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span> Layout<span class="token punctuation">,</span>
        redirect<span class="token operator">:</span> <span class="token string">"/guide/index"</span><span class="token punctuation">,</span>
        children<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">&#123;</span>
                path<span class="token operator">:</span> <span class="token string">"index"</span><span class="token punctuation">,</span>
                <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"@/views/guide/index"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">"Guide"</span><span class="token punctuation">,</span>
                meta<span class="token operator">:</span> <span class="token punctuation">&#123;</span> title<span class="token operator">:</span> <span class="token string">"Guide"</span><span class="token punctuation">,</span> icon<span class="token operator">:</span> <span class="token string">"guide"</span><span class="token punctuation">,</span> noCache<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="åˆ›å»ºè·¯ç”±"><a href="#åˆ›å»ºè·¯ç”±" class="headerlink" title="åˆ›å»ºè·¯ç”±"></a>åˆ›å»ºè·¯ç”±</h4><p>å¿…é¡»ä½¿ç”¨ WebHistory æ¨¡å¼ï¼Œå¦åˆ™ä¼šæœ‰é¡µé¢è·¯ç”±å¼‚å¸¸</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  history<span class="token operator">:</span> <span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  routes<span class="token operator">:</span> constantRoutes<span class="token punctuation">,</span>
  <span class="token comment">// eslint-disable-next-line no-unused-vars</span>
  <span class="token function">scrollBehavior</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> savedPosition</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// å§‹ç»ˆæ»šåŠ¨åˆ°é¡¶éƒ¨</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> top<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ğŸŸ¢å¯ä»¥é…ç½®æ‹¦æˆªå™¨ï¼Œå¦‚æœæ²¡æœ‰ç™»å½•å°±è®¿é—®åå°ä¼šè·³è½¬åˆ° <code>/admin/login</code>ï¼Œ<strong>å…·ä½“å†™æ³•æŸ¥çœ‹é¡¹ç›®</strong>ã€‚</p>
<h4 id="é‡ç½®è·¯ç”±"><a href="#é‡ç½®è·¯ç”±" class="headerlink" title="é‡ç½®è·¯ç”±"></a><strong>é‡ç½®è·¯ç”±</strong></h4><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// Detail see: https://github.com/vuejs/vue-router/issues/1234#issuecomment-357941465</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">resetRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> newRouter <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    history<span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    routes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  router<span class="token punctuation">.</span>matcher <span class="token operator">=</span> newRouter<span class="token punctuation">.</span>matcher<span class="token punctuation">;</span> <span class="token comment">// reset router</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="åœ¨ç»„ä»¶ä¸­ä½¿ç”¨"><a href="#åœ¨ç»„ä»¶ä¸­ä½¿ç”¨" class="headerlink" title="åœ¨ç»„ä»¶ä¸­ä½¿ç”¨"></a>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</h4><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// tag.vue</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> useRouter <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vue-router"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">taglink</span><span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        name<span class="token operator">:</span> <span class="token string">"tag"</span><span class="token punctuation">,</span>
        params<span class="token operator">:</span> <span class="token punctuation">&#123;</span> id<span class="token operator">:</span> tag <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// index.js</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token operator">...</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
    path<span class="token operator">:</span> <span class="token string">"/tag/:id"</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">"tag"</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Archive<span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>















<h2 id="é¡¹ç›®ç»“æ„-1"><a href="#é¡¹ç›®ç»“æ„-1" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h2><h3 id="ç»“æ„æ¦‚è¿°"><a href="#ç»“æ„æ¦‚è¿°" class="headerlink" title="ç»“æ„æ¦‚è¿°"></a>ç»“æ„æ¦‚è¿°</h3><p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202209291451898.png" alt="image-20220929145127784"></p>
<p>components -&gt; è·¯ç”±é¡µé¢ä¸­ä½¿ç”¨çš„å…¬ç”¨ç»„ä»¶</p>
<p>layout -&gt; å‰åå°æ¨¡æ¿ï¼ŒåŒ…è£¹ç€ <code>&lt;router-view&gt;</code></p>
<ul>
<li>back</li>
<li>front</li>
<li>components å­ç»„ä»¶</li>
</ul>
<p>pages -&gt; è·¯ç”±ä¸­åˆ‡æ¢çš„é¡µé¢ï¼Œä»£è¡¨ <code>&lt;router-view&gt;</code></p>
<ul>
<li>front</li>
<li>back</li>
<li>error-page</li>
<li>login</li>
</ul>
<h3 id="åˆ‡æ¢æ¨¡æ¿"><a href="#åˆ‡æ¢æ¨¡æ¿" class="headerlink" title="åˆ‡æ¢æ¨¡æ¿"></a>åˆ‡æ¢æ¨¡æ¿</h3><p>å‰å°å’Œåå°åœ¨ <code>MainLayout.vue</code> ç»„ä»¶ä¸­åˆ‡æ¢æ˜¾ç¤ºï¼Œå¹¶ä¸”åœ¨å¤–å±‚åŒ…è£¹äº† <code>&lt;slot&gt;</code> æ ‡ç­¾ï¼Œè¡¨ç¤ºå¯ä»¥åœ¨åº”ç”¨çš„å…¥å£ç»„ä»¶ <code>App.vue</code> é€šè¿‡æ’å…¥ç™»å½•é¡µé¢ç»„ä»¶è¦†ç›– slot æ¥å®ç°ä¸ä½¿ç”¨å‰åå°æ¨¡æ¿çš„å•é¡µé¢æ˜¾ç¤ºã€‚</p>
<p><code>App.vue</code></p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;main-layout&gt;&lt;router-view v-if&#x3D;&quot;toLogIn&quot; &#x2F;&gt;&lt;&#x2F;main-layout&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><code>MainLayout.vue</code></p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;w-full&quot;&gt;
    &lt;slot&gt;
      &lt;blog-back-end v-if&#x3D;&quot;isAdmin&quot; &#x2F;&gt;
      &lt;blog-front-end v-if&#x3D;&quot;!isAdmin&quot; &#x2F;&gt;
    &lt;&#x2F;slot&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å‰å°æ¨¡æ¿ï¼šheader + main + footer</p>
<p>åå°æ¨¡æ¿ï¼šsidebar + (header + main)</p>
<p><strong>ç®¡ç†å¸ƒå±€</strong>ï¼š</p>
<ol>
<li>ä½¿ç”¨ element plus çš„ <code>&lt;el-row&gt;</code> å’Œ <code>&lt;el-col&gt;</code></li>
<li>ä½¿ç”¨ flexbox</li>
</ol>
<h3 id="ã€æ—§ã€‘å‰åå°-layout-åˆ†ç¦»"><a href="#ã€æ—§ã€‘å‰åå°-layout-åˆ†ç¦»" class="headerlink" title="ã€æ—§ã€‘å‰åå° layout åˆ†ç¦»"></a>ã€æ—§ã€‘å‰åå° layout åˆ†ç¦»</h3><p>ä½¿ç”¨çš„ç‰¹æ€§ï¼š</p>
<ol>
<li><p>æ’æ§½ <a target="_blank" rel="noopener" href="https://vuejs.org/guide/components/slots.html">Slots</a><br>æ’æ§½ä¸­çš„å‰åç«¯ç»„ä»¶åœ¨ä¸æ¸²æŸ“ <code>&lt;router-view&gt;</code> çš„æ—¶å€™ä½œä¸º Fallback Content å­˜åœ¨ï¼Œå¦åˆ™ä¼šè¢«è¦†ç›–ã€‚</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- App.vue --&gt;
&lt;template&gt;
  &lt;main-layout&gt;&lt;router-view v-if&#x3D;&quot;toLogIn&quot; &#x2F;&gt;&lt;&#x2F;main-layout&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- MainLayout.vue --&gt;
&lt;template&gt;
  &lt;div class&#x3D;&quot;w-full&quot;&gt;
    &lt;slot&gt;
      &lt;blog-back-end v-if&#x3D;&quot;isAdmin&quot; &#x2F;&gt;
      &lt;blog-front-end v-if&#x3D;&quot;!isAdmin&quot; &#x2F;&gt;
    &lt;&#x2F;slot&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>é€šè¿‡ Pinia çš„ <code>store.$subscribe()</code> æ¥ç›‘è§†çŠ¶æ€çš„æ”¹å˜ï¼Œä»è€Œåˆ‡æ¢ä¸åŒçš„ layoutï¼š</p>
<ul>
<li>å‰å°ï¼Œheaderã€mainã€footer</li>
<li>åå°ï¼Œasideã€headerã€main</li>
<li>ç™»å½•é¡µé¢ï¼Œæ•´ä¸ªé¡µé¢</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://pinia.vuejs.org/core-concepts/state.html#subscribing-to-the-state">subscribing-to-the-state</a></p>
</li>
<li><p>åœ¨ <code>router/index.js</code> ä¸­çš„ <code>beforeEach</code> æ¨¡å—é€šè¿‡ <code>usersStore</code> æ¥æ›´æ”¹ <code>toLogin</code> å’Œ <code>isAdmin</code> çš„çŠ¶æ€ï¼Œä»è€Œå½±å“æ¨¡æ¿ç»„ä»¶çš„åˆ‡æ¢ã€‚<br>ğŸŸ éœ€è¦åœ¨ <code>beforeEach</code> æ¨¡å—ä¸­å£°æ˜ storeï¼Œå¦åˆ™ Pinia è¿˜æ²¡æœ‰åˆå§‹åŒ–ã€‚<a target="_blank" rel="noopener" href="https://pinia.vuejs.org/core-concepts/outside-component-usage.html#single-page-applications">è¯¦è§</a></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> useUsersStore <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@/stores/user"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> usersStore <span class="token operator">=</span> <span class="token function">useUsersStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// if show Fallback Content of Slots</span>
<span class="token keyword">let</span> toLogIn <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

usersStore<span class="token punctuation">.</span><span class="token function">$subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mutation<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"tracked!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"toLogin"</span> <span class="token operator">+</span> state<span class="token punctuation">.</span>toLogin<span class="token punctuation">)</span><span class="token punctuation">;</span>

  toLogIn<span class="token punctuation">.</span>value <span class="token operator">=</span> state<span class="token punctuation">.</span>toLogin<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>ä¸ºäº†æ¨¡æ¿ç»„ä»¶åœ¨è·¯ç”±åˆ‡æ¢æ—¶å€™èƒ½å¤Ÿæ­£å¸¸åˆ‡æ¢ï¼Œéœ€è¦åœ¨åˆ›å»º router çš„æ—¶å€™æŒ‡å®š <code>history: createWebHistory()</code> æ¨¡å¼ã€‚<a target="_blank" rel="noopener" href="https://router.vuejs.org/guide/essentials/history-mode.html#html5-mode">Different History modes | Vue Router (vuejs.org)</a></p>
</li>
<li><p>ğŸŸ åœ¨ç™»é™†ä¹‹åéœ€è¦å†åˆ‡æ¢ä¸€æ¬¡ layoutï¼Œå› æ­¤è¦åœ¨ <code>@/views/login/index.vue</code> ä¸­çš„ <code>handleLogin</code> æ–¹æ³•ä¸­è°ƒç”¨ userStore åˆ‡æ¢é¡µé¢çŠ¶æ€</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">handleLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    userStore<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span>loginForm<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token operator">...</span>
        userStore<span class="token punctuation">.</span><span class="token function">notLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ol>
<p><strong>åˆ‡æ¢ layout å‚è€ƒ</strong>ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://itnext.io/anyway-heres-how-to-create-a-multiple-layout-system-with-vue-and-vue-router-b379baa91a05">Anyway, hereâ€™s how to create a multiple layout system with Vue and Vue-router | by @maisonfutari | ITNEXT</a></li>
</ul>
<p>å‰åç«¯ layout åˆ‡æ¢çš„ä¾æ®æ˜¯ åœ°å€æ˜¯å¦å«æœ‰ <code>/admin</code>ï¼Œè¿›è€Œé€šè¿‡åˆ¤æ–­ <code>token</code> æ¥å†³å®šæ˜¯å¦è·³è½¬åˆ°ç™»å½•é¡µé¢ã€‚</p>
<h2 id="åŸºç¡€æ ·å¼"><a href="#åŸºç¡€æ ·å¼" class="headerlink" title="åŸºç¡€æ ·å¼"></a>åŸºç¡€æ ·å¼</h2><p>ä»ä½¿ç”¨å…¼å®¹æ—§é¡¹ç›®çš„ sass æ ·å¼ã€‚</p>
<p>åˆ‡æ¢è·¯ç”±è§†å›¾çš„æ—¶å€™å¯ä»¥ä½¿ç”¨åŠ¨ç”»æ•ˆæœã€‚<a target="_blank" rel="noopener" href="https://cn.vuejs.org/guide/built-ins/transition.html#css-based-transitions">Transition | Vue.js (vuejs.org)</a></p>
<p><strong>ä½¿ç”¨å“åº”å¼å¸ƒå±€</strong></p>
<p>åœ¨é¡µé¢è¾ƒå°çš„æ—¶å€™éšè—ç»„ä»¶</p>
<p><code>class=&quot;side-img hidden-sm-and-down&quot;</code> å“åº”å¼éšè—</p>
<p><a target="_blank" rel="noopener" href="https://element-plus.org/en-US/component/layout.html#col-attributes">Layout | Element Plus (element-plus.org)</a> å“åº”å¼å¸ƒå±€ <code>:span=&quot;20&quot; :md=&quot;12&quot;</code></p>
<h3 id="ä¿®æ”¹-element-plus-æ ·å¼"><a href="#ä¿®æ”¹-element-plus-æ ·å¼" class="headerlink" title="ä¿®æ”¹ element plus æ ·å¼"></a>ä¿®æ”¹ element plus æ ·å¼</h3><p>ä»¥ä¿®æ”¹ <code>&lt;el-menu&gt;</code> èƒŒæ™¯é¢œè‰²ä¸ºä¾‹ã€‚</p>
<ol>
<li><p>ç›´æ¥åœ¨ <code>.vue</code> ä¸­å£°æ˜</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;style scoped&gt;
.el-menu &#123;
  --el-menu-bg-color: #304156;
&#125;
&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>ä½¿ç”¨ <code>background-color</code> å±æ€§ï¼ŒæŒ‡å®šåå…­è¿›åˆ¶çš„å€¼ï¼Œå¯ä»¥åŠ¨æ€ç»‘å®š<br><strong>é€šè¿‡è§£æ„ä½¿ç”¨</strong></p>
<p>å¼•å…¥æ•´ä½“ <code>variables.module.scss</code> ç„¶åå†è§£æ„</p>
<pre class="line-numbers language-scss" data-language="scss"><code class="language-scss"><span class="token comment">// sidebar</span>
<span class="token property"><span class="token variable">$menuBg</span></span><span class="token punctuation">:</span>#304156<span class="token punctuation">;</span>

<span class="token selector">:export </span><span class="token punctuation">&#123;</span>
  <span class="token property">menuBg</span><span class="token punctuation">:</span> <span class="token variable">$menuBg</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> variables <span class="token keyword">from</span> <span class="token string">"@/styles/variables.module.scss"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span> menuBg <span class="token punctuation">&#125;</span> <span class="token operator">=</span> variables<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
<li><p>ä½¿ç”¨ tailwindcss</p>
</li>
<li><p>ä½¿ç”¨ CSS Modules</p>
<p>æ„Ÿè§‰å¾ˆåƒ tailwindcss ï¼Œéƒ½æ˜¯æ“ä½œ class<br>å¦å¤–ï¼Œdom ä¸­æ˜¯ classNameï¼Œhtml å°±æ˜¯ class</p>
<pre class="line-numbers language-scss" data-language="scss"><code class="language-scss"><span class="token comment">// test.module.scss</span>
<span class="token property"><span class="token variable">$pageBackground</span></span><span class="token punctuation">:</span> #f4fa58<span class="token punctuation">;</span>

<span class="token selector">.menu </span><span class="token punctuation">&#123;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token variable">$pageBackground</span> <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 4rem<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
&lt;el-menu :class&#x3D;&quot;test.menu&quot;&gt; &lt;&#x2F;el-menu&gt;
&lt;&#x2F;template&gt;
&lt;script setup&gt;
import test from &quot;@&#x2F;styles&#x2F;test.module.scss&quot;;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ol>
<h3 id="style-css-å‚è€ƒ"><a href="#style-css-å‚è€ƒ" class="headerlink" title="style.css å‚è€ƒ"></a>style.css å‚è€ƒ</h3><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">html,
body</span> <span class="token punctuation">&#123;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>

  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">#app</span> <span class="token punctuation">&#123;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>

  <span class="token comment">/* min-height: 1500px; */</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">a</span> <span class="token punctuation">&#123;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> 500<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #646cff<span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">a:hover</span> <span class="token punctuation">&#123;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #535bf2<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/* ä¸»é¡µä¸­çš„é“¾æ¥æ ·å¼ */</span>
<span class="token selector">.main-content * > a</span> <span class="token punctuation">&#123;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> 500<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #383737<span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.main-content * > a:hover</span> <span class="token punctuation">&#123;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #409eff <span class="token important">!important</span><span class="token punctuation">;</span> <span class="token comment">/* å¼ºåˆ¶è¦†ç›–å±æ€§ */</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h2 id="é‡æ„ç»„ä»¶"><a href="#é‡æ„ç»„ä»¶" class="headerlink" title="é‡æ„ç»„ä»¶"></a>é‡æ„ç»„ä»¶</h2><h3 id="ä¸€äº›æ•ˆæœ"><a href="#ä¸€äº›æ•ˆæœ" class="headerlink" title="ä¸€äº›æ•ˆæœ"></a>ä¸€äº›æ•ˆæœ</h3><p><strong>è‡ªåŠ¨è°ƒæ•´å¤§å°ã€å¸é¡¶æ•ˆæœ</strong></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex<span class="token punctuation">"</span></span> <span class="token attr-name">justify</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:xs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">:md</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;<span class="token punctuation">'</span>minHeight<span class="token punctuation">'</span>:minHeight+<span class="token punctuation">'</span>px<span class="token punctuation">'</span>&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
            minHeight<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            navBarFixed<span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
        that<span class="token punctuation">.</span>minHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight
        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> that<span class="token punctuation">.</span>watchScroll<span class="token punctuation">)</span>
        window<span class="token punctuation">.</span><span class="token function-variable function">onresize</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            that<span class="token punctuation">.</span>minHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token function">watchScroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">var</span> scrollTop <span class="token operator">=</span> window<span class="token punctuation">.</span>pageYOffset <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">||</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop
            <span class="token comment">//  å½“æ»šåŠ¨è¶…è¿‡ 50 æ—¶ï¼Œå®ç°å¸é¡¶æ•ˆæœ</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>navBarFixed <span class="token operator">=</span> scrollTop <span class="token operator">></span> <span class="token number">50</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="About"><a href="#About" class="headerlink" title="About"></a>About</h3><h4 id="è¡¨å•-el-form"><a href="#è¡¨å•-el-form" class="headerlink" title="è¡¨å• el-form"></a>è¡¨å• el-form</h4><p>åŸºç¡€ç»“æ„</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
    &lt;el-card shadow&#x3D;&quot;always&quot;&gt;
        &lt;el-form&gt;
            &lt;el-form-item label&#x3D;&quot;æ˜µç§°&quot;&gt;
                &lt;el-input &#x2F;&gt;
            &lt;&#x2F;el-form-item&gt;
            &lt;el-form-item label&#x3D;&quot;é‚®ç®±&quot;&gt;
                &lt;el-input &#x2F;&gt;
            &lt;&#x2F;el-form-item&gt;
            &lt;el-form-item label&#x3D;&quot;è¯„è®º&quot;&gt;
                &lt;el-input type&#x3D;&quot;textarea&quot; &#x2F;&gt;
            &lt;&#x2F;el-form-item&gt;
        &lt;&#x2F;el-form&gt;
    &lt;&#x2F;el-card&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ³¨æ„ï¼š<code>&lt;el-form&gt;</code> çš„ <code>:model</code> æ˜¯ä¸“æœ‰å±æ€§ï¼Œ<code>&lt;el-input&gt;</code> çš„ <code>v-model</code> æ˜¯åŒå‘ç»‘å®šæŒ‡ä»¤ï¼Œæ²¡æœ‰ç®€å†™çš„å½¢å¼ã€‚</p>
<p><strong>æ ¡éªŒè§„åˆ™</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ref <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> ruleFormRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> formSize <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">"default"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ruleForm <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token string">"Hello"</span><span class="token punctuation">,</span>
  email<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  comment<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> rules <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
      required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">"Please input Activity name"</span><span class="token punctuation">,</span>
      trigger<span class="token operator">:</span> <span class="token string">"change"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> min<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">"Length should be 3 to 5"</span><span class="token punctuation">,</span> trigger<span class="token operator">:</span> <span class="token string">"blur"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>

  email<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
      type<span class="token operator">:</span> <span class="token string">"email"</span><span class="token punctuation">,</span>
      required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">"è¯·è¾“å…¥æ­£ç¡®çš„åœ°å€"</span><span class="token punctuation">,</span>
      trigger<span class="token operator">:</span> <span class="token string">"change"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  comment<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
      required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">"è¯·è¾“å…¥å†…å®¹"</span><span class="token punctuation">,</span>
      trigger<span class="token operator">:</span> <span class="token string">"blur"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>&lt;el-input&gt;</code> ä¸­åªç»‘å®šäº†è¾“å…¥å€¼ï¼Œå¤–å±‚ <code>&lt;el-form-item&gt;</code> çš„ <code>prop</code> å±æ€§æ‰å¯¹åº”ç€éªŒè¯è§„åˆ™ä¸­çš„æ¯ä¸€é¡¹ã€‚ï¼ˆä¹Ÿå°±æ˜¯è¯´è¡¨å•å’ŒéªŒè¯è§„åˆ™ä¸­çš„å˜é‡åå¯ä»¥ä¸åŒ ï¼‰</p>
<p><code>trigger</code> å±æ€§ï¼š</p>
<ul>
<li><code>blur</code> ç‚¹å‡»ç©ºç™½æ—¶æ ¡éªŒ</li>
<li><code>change</code> ä¿®æ”¹æ—¶æ ¡éªŒ</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://element-plus.gitee.io/zh-CN/component/form.html#%E8%A1%A8%E5%8D%95%E6%A0%A1%E9%AA%8C">Form è¡¨å• | Element Plus (gitee.io)</a></p>
<p><strong>æäº¤è¡¨å• &amp; é‡ç½®è¡¨å•</strong></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/wj1713520/article/details/123515108">å‚è€ƒæ–‡ç« </a></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">submitForm</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">formEl</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>formEl<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> formEl<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">valid<span class="token punctuation">,</span> fields</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"submit!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"error submit!"</span><span class="token punctuation">,</span> fields<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">resetForm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">formEl</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>formEl<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  formEl<span class="token punctuation">.</span><span class="token function">resetFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="Article"><a href="#Article" class="headerlink" title="Article"></a>Article</h3><p>ä»£ç é«˜äº®</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> highlight.js<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// main.js</span>
<span class="token keyword">import</span> <span class="token string">"highlight.js/styles/atom-one-dark.css"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h3 id="Tag"><a href="#Tag" class="headerlink" title="Tag"></a>Tag</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;el-card class&#x3D;&quot;tag-box&quot;&gt;
    &lt;template #header&gt;
      &lt;span&gt;æ ‡ç­¾&lt;&#x2F;span&gt;
    &lt;&#x2F;template&gt;
    &lt;div class&#x3D;&quot;tag-item flex justify-around&quot;&gt;
      &lt;el-tag type&#x3D;&quot;success&quot;&gt;ç”Ÿæ´»&lt;&#x2F;el-tag&gt;
      &lt;el-tag type&#x3D;&quot;success&quot;&gt;ç§‘æŠ€&lt;&#x2F;el-tag&gt;
      &lt;el-tag type&#x3D;&quot;success&quot;&gt;å†å²&lt;&#x2F;el-tag&gt;
    &lt;&#x2F;div&gt;
  &lt;&#x2F;el-card&gt;
&lt;&#x2F;template&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ ‡ç­¾ <code>slot</code> çš„å†™æ³•è¿‡æ—¶äº†</p>
<h3 id="Markdown"><a href="#Markdown" class="headerlink" title="Markdown"></a>Markdown</h3><p><a target="_blank" rel="noopener" href="https://code-farmer-i.github.io/vue-markdown-editor/zh/">ä»‹ç» | v-md-editor (code-farmer-i.github.io)</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/code-farmer-i/vue-markdown-editor">code-farmer-i/vue-markdown-editor: A markdown editor built on Vue (github.com)</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i @kangc/v-md-editor@next -S<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createApp <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> VMdEditor <span class="token keyword">from</span> <span class="token string">'@kangc/v-md-editor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'@kangc/v-md-editor/lib/style/base-editor.css'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> vuepressTheme <span class="token keyword">from</span> <span class="token string">'@kangc/v-md-editor/lib/theme/vuepress.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'@kangc/v-md-editor/lib/theme/style/vuepress.css'</span><span class="token punctuation">;</span>

<span class="token comment">// Prism</span>
<span class="token keyword">import</span> Prism <span class="token keyword">from</span> <span class="token string">'prismjs'</span><span class="token punctuation">;</span>
<span class="token comment">// highlight code</span>
<span class="token keyword">import</span> <span class="token string">'prismjs/components/prism-json'</span><span class="token punctuation">;</span>

VMdEditor<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>vuepressTheme<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  Prism<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token comment">/*...*/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VMdEditor<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;v-md-editor v-model&#x3D;&quot;text&quot; height&#x3D;&quot;400px&quot;&gt;&lt;&#x2F;v-md-editor&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
  import &#123; ref &#125; from &#39;vue&#39;;

  export default &#123;
    setup() &#123;
      const text &#x3D; ref(&#39;&#39;);

      return &#123;
        text,
      &#125;;
    &#125;,
  &#125;;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å¦‚æœæ¸²æŸ“å‡ºæ¥çš„æ–‡å­—æ˜¯å±…ä¸­çš„æ ·å¼ï¼Œéœ€è¦æŸ¥çœ‹æ˜¯å¦ç»§æ‰¿äº† <code>style.css</code> ä¸­çš„ <code>text-align: center</code> å±æ€§ã€‚</p>
<h3 id="404-page"><a href="#404-page" class="headerlink" title="404 page"></a>404 page</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> constantRoutes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">&#123;</span>
    path<span class="token operator">:</span> <span class="token string">"/404"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"@/views/error-page/404.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    hidden<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span>
    path<span class="token operator">:</span> <span class="token string">"/401"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"@/views/error-page/401.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    hidden<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    
  <span class="token comment">// 404 page must be placed at the end !!!</span>
  <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"/:pathMatch(.*)*"</span><span class="token punctuation">,</span> redirect<span class="token operator">:</span> <span class="token string">"/404"</span><span class="token punctuation">,</span> hidden<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><a target="_blank" rel="noopener" href="https://router.vuejs.org/guide/essentials/dynamic-matching.html#catch-all-404-not-found-route">Dynamic Route Matching with Params | Vue Router (vuejs.org)</a></p>
<h3 id="Login"><a href="#Login" class="headerlink" title="Login"></a>Login</h3><blockquote>
<p>é—®é¢˜ï¼š<code>&lt;el-input&gt;</code> æ— æ³•è¾“å…¥ã€‚</p>
<p>è¾“å…¥å¼‚å¸¸ï¼Œåªä¼šåœ¨ blur ä¹‹åè¾“å…¥ä¸€ä¸ªå­—ç¬¦ã€‚</p>
</blockquote>
<p>åŸå› æ˜¯å¤–å±‚çš„ <code>&lt;el-form&gt;</code> ä½¿ç”¨äº† <code>ref</code> å±æ€§ç»‘å®šåˆ°äº†è¡¨å•å€¼ï¼Œéœ€è¦ç»‘å®šåˆ°å¦ä¸€ä¸ª Ref ä¸Šã€‚</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
	&lt;el-form
      ref&#x3D;&quot;loginRef&quot;
      :model&#x3D;&quot;loginForm&quot;
      :rules&#x3D;&quot;loginRules&quot;
      class&#x3D;&quot;login-form&quot;
      autocomplete&#x3D;&quot;on&quot;
      label-position&#x3D;&quot;left&quot;
    &gt;
    &lt;&#x2F;el-form&gt;
&lt;&#x2F;template&gt;
&lt;script setup&gt;
const loginForm &#x3D; ref(&#123;
  username: &quot;admin&quot;,
  password: &quot;111111&quot;,
&#125;);

const loginRules &#x3D; ref(&#123;
  username: [&#123; required: true, trigger: &quot;blur&quot;, validator: validateUsername &#125;],
  password: [&#123; required: true, trigger: &quot;blur&quot;, validator: validatePassword &#125;],
&#125;);
    
&#x2F;&#x2F; ref ç»„ä»¶
const username &#x3D; ref();
const password &#x3D; ref();
const loginRef &#x3D; ref();
    
&#x2F;&#x2F; éªŒè¯æäº¤çš„è¡¨å•å€¼
function handleLogin() &#123;
  &#x2F;&#x2F; è¿™é‡Œè·å–çš„ä¸æ˜¯è¡¨å•å€¼ è€Œæ˜¯è¡¨å•çš„å¼•ç”¨
  loginRef.value.validate((valid) &#x3D;&gt; &#123;&#125;)
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ğŸŸ¢é¡¹ç›®ä¸­è¿˜æœ‰çš„å…¶ä»–ä½¿ç”¨åŠŸèƒ½ï¼š</p>
<ul>
<li>åŠ è½½é¡µé¢çš„æ—¶å€™è‡ªåŠ¨å¯¹ç„¦è¾“å…¥æ </li>
<li>å…·ä½“çš„éªŒè¯è¡¨å•æ­¥éª¤</li>
<li>ä½¿ç”¨ <code>&lt;el-tooltip&gt;</code> å®ç°å¤§å°å†™æ¡†æç¤ºã€æ˜¾ç¤ºå¯†ç </li>
</ul>
<p>å‚è€ƒï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/guide/essentials/reactivity-fundamentals.html">å“åº”å¼åŸºç¡€ | Vue.js (vuejs.org)</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/ZYS10000/article/details/125679946">Vue3ä¸­ ref å±æ€§è¯¦è§£_æ˜å¤©ä¹Ÿè¦åŠªåŠ›çš„åšå®¢-CSDNåšå®¢_vue3 ç»„ä»¶ref</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47886687/article/details/112919563">vue3ä¸­refçš„ç†è§£_å±±ç«¹å›å®¶äº†çš„åšå®¢-CSDNåšå®¢_ref vue3</a></li>
</ul>
<p>ğŸŸ¢Vue3 ä¸­æ²¡æœ‰ <code>$ref</code> ç”¨æ¥è·å–å•ä¸ª DOMï¼Œåªèƒ½åœ¨ <code>setup()</code> ä¸­å£°æ˜ç„¶åä¼šåœ¨ mounted æ—¶å€™æŒ‚è½½ã€‚</p>
<blockquote>
<p>åˆ›å»ºå“åº”å¼ï¼Œä¸ç®¡å¯¹è±¡è¿˜æ˜¯åŸºç¡€ç±»å‹ï¼Œéƒ½ä½¿ç”¨ <code>ref()</code>ï¼Œç„¶åé€šè¿‡ <code>.value</code> è·å–å€¼ã€‚</p>
</blockquote>
<h3 id="å½’æ¡£-æ ‡ç­¾å½’æ¡£"><a href="#å½’æ¡£-æ ‡ç­¾å½’æ¡£" class="headerlink" title="å½’æ¡£ /æ ‡ç­¾å½’æ¡£"></a>å½’æ¡£ /æ ‡ç­¾å½’æ¡£</h3><p><code>Archive</code> é¡µé¢ã€<code>TagArchive</code> é¡µé¢è°ƒç”¨ <code>PostTimeLine</code> ç»„ä»¶ï¼Œä¼ å…¥ä¸åŒçš„ <code>byTag</code> å±æ€§ï¼Œåœ¨ <code>onMounted()</code> æ—¶å€™è¯·æ±‚ä¸åŒçš„æ¥å£ã€‚ </p>
<h3 id="TagManage"><a href="#TagManage" class="headerlink" title="TagManage"></a>TagManage</h3><p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202209261236200.png" alt="image-20220926123631150"></p>
<ol>
<li><p>å› ä¸ºå¤šä¸ªç»„ä»¶éƒ½éœ€è¦ä½¿ç”¨ tagListï¼Œæ‰€ä»¥ä½¿ç”¨å…¨å±€çŠ¶æ€ TagStore æ¥ç®¡ç†ã€‚<br>TagStore çš„å„ä¸ªæ–¹æ³•é€šè¿‡è°ƒç”¨ <code>/api/tag.js</code> æ¥å®ç°ã€‚</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// setup</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">"tagStore"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
        tagList<span class="token punctuation">,</span>
        postTags<span class="token punctuation">,</span> <span class="token comment">// å½“å‰æ–‡ç« çš„æ ‡ç­¾</span>
        postId<span class="token punctuation">,</span> <span class="token comment">// å½“å‰æ–‡ç«  id</span>

        setPostTags<span class="token punctuation">,</span> <span class="token comment">// æ›´æ–°æ–‡ç« çš„æ ‡ç­¾</span>
        addTag<span class="token punctuation">,</span>
        usePost<span class="token punctuation">,</span>
        removeTag<span class="token punctuation">,</span>
        updateTagList<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>æœ‰ä¸¤ä¸ªé‡è¦çš„å˜é‡ï¼Œ<code>tagList</code> è¡¨ç¤ºæ‰€æœ‰æ ‡ç­¾ï¼Œ<code>postTags</code> è¡¨ç¤ºæŸä¸ªæ–‡ç« çš„æ‰€æœ‰æ ‡ç­¾ã€‚</p>
<p>åœ¨ä½¿ç”¨ <code>&lt;el-check-group&gt;</code> çš„æ—¶å€™éœ€è¦ä½¿ç”¨ <code>tagList</code> æ¸²æŸ“æ‰€æœ‰çš„ <code>&lt;el-checkbox&gt;</code> é€‰é¡¹ï¼Œä½†æ˜¯è¡¨å•å€¼ç»‘å®šçš„æ˜¯ <code>postTags</code> ç”¨æ¥æ›´æ”¹æ–‡ç« çš„æ ‡ç­¾ã€‚</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;el-checkbox-group v-model&#x3D;&quot;postTags&quot; :tag-list&#x3D;&quot;tagList&quot;&gt;
    &lt;div v-for&#x3D;&quot;c in tagList&quot; :key&#x3D;&quot;c&quot; class&#x3D;&quot;mb-4&quot;&gt;
      &lt;el-checkbox :label&#x3D;&quot;c&quot; &#x2F;&gt;
    &lt;&#x2F;div&gt;
  &lt;&#x2F;el-checkbox-group&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>ğŸŸ¢é€šè¿‡ <code>&lt;el-row&gt;</code> å’Œ <code>&lt;el-col :span=&quot;&quot; :offset=&quot;&quot;&gt;</code> æ¥ç®¡ç†ä¸å¯¹ç§°çš„å¸ƒå±€æ¯”ä½¿ç”¨ Flexbox æ›´æœ‰ç”¨ã€‚</p>
</li>
<li><p><code>list</code> ç»„ä»¶æœ‰ä¸¤ä¸ªæ‚¬æµ®é¡µé¢ç»„ä»¶ <code>TagListWindow</code> ã€<code>AddTagWindow</code>ï¼Œè¿™ä¸¤ä¸ªçª—å£ç»„ä»¶å¯ä»¥è¢« <code>&lt;transition&gt;</code> åŒ…è£¹æ¥å®ç°åŠ¨ç”»æ•ˆæœï¼Œå¹¶ä¸”ä»–ä»¬çš„æ˜¾ç¤ºå’Œå…³é—­ç”±å¤–å±‚ <code>list</code> ç»„ä»¶æ§åˆ¶ã€‚</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
	&lt;transition name&#x3D;&quot;bounce&quot; mode&#x3D;&quot;out-in&quot;&gt;
      &lt;tag-list-window
        v-if&#x3D;&quot;showTagList&quot;
        @close&#x3D;&quot;closeModal&quot;
        @show-add-tag&#x3D;&quot;showAddTagWindow&quot;
        @update-post-tag&#x3D;&quot;getList&quot;
      &#x2F;&gt;
    &lt;&#x2F;transition&gt;
    &lt;transition&gt;
      &lt;add-tag-window v-if&#x3D;&quot;showAddTag&quot; @close&#x3D;&quot;showAddTag &#x3D; false&quot; &#x2F;&gt;
    &lt;&#x2F;transition&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>@close</code> æ˜¯å£°æ˜çš„å¤„ç†çª—å£å…³é—­çš„å›è°ƒæ–¹æ³•ã€‚</p>
</li>
<li><p>å­ç»„ä»¶ä¸­å£°æ˜çš„ props å’Œ emit åœ¨å¤–å±‚ç»„ä»¶çš„æ¨¡æ¿ä¸Šä½¿ç”¨æ—¶éœ€è¦åˆ†åˆ«ä½¿ç”¨ <code>:</code> å’Œ <code>@</code><br>ğŸŸ¢emit å¯ä»¥åœ¨æ‰§è¡Œå›è°ƒçš„æ—¶å€™ä¼ é€’å‚æ•°</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// TagListWindow.vue</span>
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"pid"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> pid <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> emits <span class="token operator">=</span> defineEmits<span class="token punctuation">[</span><span class="token string">"close"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">emits</span><span class="token punctuation">(</span><span class="token string">"close"</span><span class="token punctuation">,</span> <span class="token string">'someValue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
	&lt;tag-list-window v-if&#x3D;&quot;showList&quot; :pid &#x3D; &quot;postId&quot; @close&#x3D;&quot;closeModal&quot;&#x2F;&gt;
&lt;&#x2F;template&gt;
&lt;script setup&gt;
    let postId &#x3D; ref(1);
    let showList &#x3D; ref(false);
    function clseModal() &#123;
        
    &#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>åœ¨ <code>TagListWindow</code> ç»„ä»¶ä¸­éœ€è¦ç¡®ä¿æ ‡ç­¾åˆ—è¡¨æ˜¯å®æ—¶æ›´æ–°çš„ï¼Œä¸ç®¡æ˜¯åœ¨è‡ªèº« delMod ä¸­åˆ é™¤æ ‡ç­¾è¿˜æ˜¯åœ¨ <code>AddTagWindow</code> ä¸­å¢åŠ æ ‡ç­¾åã€‚ä½†æ˜¯é€šè¿‡è¯»å– TagStore çš„å€¼æ¥å£°æ˜çš„æ ‡ç­¾åˆ—è¡¨ä¸æ˜¯å“åº”å¼çš„ï¼Œéœ€è¦é€šè¿‡ Pinia çš„ <code>$subscribe()</code> æ–¹æ³•æ¥ç›‘è§† TagStore ä¸­çŠ¶æ€çš„æ”¹å˜ä»è€Œæ›´æ–°æ ‡ç­¾åˆ—è¡¨ã€‚<br><a target="_blank" rel="noopener" href="https://pinia.vuejs.org/core-concepts/state.html#subscribing-to-the-state">å‚è€ƒæ–‡æ¡£ | Pinia (vuejs.org)</a></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> tagStore <span class="token operator">=</span> <span class="token function">TagStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// éœ€è¦æœ€å…ˆå£°æ˜</span>

<span class="token keyword">const</span> tagList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>tagStore<span class="token punctuation">.</span>tagList<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ç”¨äºæ¸²æŸ“ el-checkbox åˆ—è¡¨çš„å…¨å±€æ ‡ç­¾æ•°ç»„ï¼Œåªéœ€è¦æ ‡é¢˜çš„å€¼</span>
<span class="token comment">// ["ç§‘æŠ€", "ç”Ÿæ´»"]</span>
<span class="token keyword">const</span> checkListAll <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>tagList<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token operator">=></span> t<span class="token punctuation">.</span>slug<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// el-checkbox-group ç»‘å®šçš„è¡¨å•å€¼ï¼Œæ˜¯å•ä¸ªæ–‡ç« çš„</span>
<span class="token keyword">const</span> checkList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>tagStore<span class="token punctuation">.</span>postTags<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span><span class="token operator">=></span> t<span class="token punctuation">.</span>slug<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// storeæ”¹å˜åˆ™æ›´æ–°å†…éƒ¨çŠ¶æ€</span>
tagStore<span class="token punctuation">.</span><span class="token function">$subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mutation<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  tagList<span class="token punctuation">.</span>value <span class="token operator">=</span> state<span class="token punctuation">.</span>tagList<span class="token punctuation">;</span>
  <span class="token comment">// ä¿®æ”¹æ•°æ®ç»“æ„</span>
  checkListAll<span class="token punctuation">.</span>value <span class="token operator">=</span> state<span class="token punctuation">.</span>tagList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token operator">=></span> t<span class="token punctuation">.</span>slug<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// console.log("postTags", state.postTags);</span>
  checkList<span class="token punctuation">.</span>value <span class="token operator">=</span> state<span class="token punctuation">.</span>postTags<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token operator">=></span> t<span class="token punctuation">.</span>slug<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ol>
<h3 id="SidebarItem"><a href="#SidebarItem" class="headerlink" title="SidebarItem"></a>SidebarItem</h3><p><code>sidebar</code> ä¸­çš„ <code>&lt;el-menu&gt;</code> åŒ…å«äº† <code>sidebar-item</code> ï¼Œè€Œ <code>sidebar-item</code> å†…å±‚ä¹ŸåµŒå¥—äº†è‡ªå·±ï¼Œç”¨æ¥å®ç° <strong>åˆ†çº§èœå•</strong> çš„åŠŸèƒ½ã€‚</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&#x2F;&#x2F; SidebarItem.vue
&lt;template&gt;
	&lt;el-menu-item&gt;&lt;&#x2F;el-menu-item&gt;
	&lt;el-sub-menu&gt;
    	&lt;sidebar-item &#x2F;&gt;
    &lt;&#x2F;el-sub-menu&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>sidebar</code> ä¸­çš„ <code>&lt;el-menu&gt;</code> çš„å±æ€§ï¼š</p>
<ul>
<li>mode å‚ç›´æ¨¡å¼</li>
<li>collapse æ˜¯å¦æ°´å¹³æŠ˜å èœå•ï¼Œåªæ˜¾ç¤ºå›¾æ ‡</li>
<li>default-active é¡µé¢åŠ è½½æ—¶é»˜è®¤é«˜äº®çš„ itemï¼Œä¸€èˆ¬å°±æ˜¯å¯¹åº”å½“å‰è·¯ç”±</li>
<li><del>background-color åå…­è¿›åˆ¶</del> ä½¿ç”¨ <code>--el-menu-bg-color</code></li>
<li><del>text-color</del></li>
<li><del>active-text-color</del></li>
<li>unique-opened æ˜¯å¦åªä¿æŒä¸€ä¸ªå­èœå•çš„å±•å¼€</li>
<li>collapse-transition æŠ˜å åŠ¨ç”»</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://element-plus.gitee.io/zh-CN/component/menu.html#menu-%E5%B1%9E%E6%80%A7">Menu èœå• | Element Plus (gitee.io)</a></p>
<p>è¿™äº›å±æ€§éƒ½ç»‘å®šäº†å…¨å±€çŠ¶æ€ <code>@/stores/app.js</code></p>
<hr>
<p>ä¸º <code>sidebar-item</code> ä¼ å…¥çš„è·¯å¾„æ•°æ®æ¥æºäºå…¨å±€çŠ¶æ€ <code>@/stores/permission.js</code></p>
<p>åœ¨ router ä¸­å£°æ˜äº†é™æ€è·¯ç”±å’Œæ ¹æ®æƒé™çš„åŠ¨æ€è·¯ç”±ï¼Œåœ¨ <code>permission.js</code> ä¸­è·å–è·¯ç”±æ•°æ®ã€‚</p>
<p>router ä¸­çš„ <code>hidden</code> æ˜¯è‡ªå®šä¹‰å±æ€§ï¼Œç”¨åœ¨ <code>sidebar-item</code> æ§åˆ¶æ˜¾ç¤ºã€‚</p>
<p><strong>å­èœå•çš„ç»“æ„</strong> </p>
<p>æ³¨æ„ element-plus ä¸­æ˜¯ <code>&lt;el-sub-menu&gt;</code></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-sub-menu</span>
      <span class="token attr-name">v-else</span>
      <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subMenu<span class="token punctuation">"</span></span>
      <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>resolvePath(item.path)<span class="token punctuation">"</span></span>
      <span class="token attr-name">popper-append-to-body</span>
    <span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#title</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- &lt;item
          v-if="item.meta"
          :icon="item.meta &amp;&amp; item.meta.icon"
          :title="item.meta.title"
        /> --></span>
        &#123;&#123; item.meta.title &#125;&#125;
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sidebar-item</span>
        <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child in item.children<span class="token punctuation">"</span></span>
        <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child.path<span class="token punctuation">"</span></span>
        <span class="token attr-name">:is-nest</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
        <span class="token attr-name">:item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span>
        <span class="token attr-name">:base-path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>resolvePath(child.path)<span class="token punctuation">"</span></span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nest-menu<span class="token punctuation">"</span></span>
      <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-sub-menu</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="ä¿®æ”¹-Item-ä¸­çš„æ¸²æŸ“å‡½æ•°"><a href="#ä¿®æ”¹-Item-ä¸­çš„æ¸²æŸ“å‡½æ•°" class="headerlink" title="ä¿®æ”¹ Item ä¸­çš„æ¸²æŸ“å‡½æ•°"></a>ä¿®æ”¹ Item ä¸­çš„æ¸²æŸ“å‡½æ•°</h3><p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/guide/extras/render-function.html#creating-vnodes">æ¸²æŸ“å‡½æ•° &amp; JSX | Vue.js (vuejs.org)</a></p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script&gt;
import &#123; h &#125; from &quot;vue&quot;;

export default &#123;
  props: &#123;
    icon: &#123;
      type: String,
      default: &quot;&quot;,
    &#125;,
    title: &#123;
      type: String,
      default: &quot;&quot;,
    &#125;,
  &#125;,
  setup(props) &#123;
    function render() &#123;
      const &#123; icon, title &#125; &#x3D; props;
      const vnodes &#x3D; [];

      if (icon) &#123;
        if (icon.includes(&quot;el-icon&quot;)) &#123;
          vnodes.push(h(&quot;i&quot;, &#123; class: [icon, &quot;sub-el-icon&quot;] &#125;));
        &#125; else &#123;
          vnodes.push(h(&quot;svg-icon&quot;, &#123; iconClass: icon &#125;));
        &#125;
      &#125;

      if (title) &#123;
        vnodes.push(h(&quot;span&quot;, &#123; slot: title, innerHTML: title &#125;));
      &#125;
      return vnodes;
    &#125;

    &#x2F;&#x2F; è¿”å›æ¸²æŸ“å‡½æ•°
    return render;
  &#125;,
&#125;;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h3 id="Article-List"><a href="#Article-List" class="headerlink" title="Article List"></a>Article List</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
	&lt;div class&#x3D;&quot;app-container&quot;&gt;
        &lt;el-table&gt;
            &lt;el-table-column&gt;&lt;&#x2F;el-table-column&gt;
    	&lt;&#x2F;el-table&gt;
        &lt;pagination &#x2F;&gt;
    &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>vue3 ä¸å†æ”¯æŒ filtersï¼Œä¿®æ”¹ä¸ºæ–¹æ³•æˆ–è®¡ç®—å±æ€§ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://v3-migration.vuejs.org/breaking-changes/filters.html">Filters | Vue 3 Migration Guide (vuejs.org)</a></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">statusFilter</span><span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> statusMap <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    published<span class="token operator">:</span> <span class="token string">"success"</span><span class="token punctuation">,</span>
    draft<span class="token operator">:</span> <span class="token string">"info"</span><span class="token punctuation">,</span>
    deleted<span class="token operator">:</span> <span class="token string">"danger"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> statusMap<span class="token punctuation">[</span>status<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>&lt;el-table-column&gt;</code> å¯ä»¥åµŒå¥—å†…å®¹</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>180px<span class="token punctuation">"</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Date<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>scope<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>&#123;&#123;
            parseTime(scope.row.timestamp, "&#123;y&#125;-&#123;m&#125;-&#123;d&#125; &#123;h&#125;:&#123;i&#125;")
            &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">class-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>status-col<span class="token punctuation">"</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Status<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>110<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123; row &#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-tag</span> <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>statusFilter(row.status)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            &#123;&#123; row.status &#125;&#125;
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-tag</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">min-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300px<span class="token punctuation">"</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123; row &#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>/post/<span class="token punctuation">'</span> + row.id<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>link-type<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>&#123;&#123; row.title &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>&lt;pagination&gt;</code> å°è£…äº† <code>&lt;el-pagination&gt;</code> </p>
<ul>
<li>el æš´éœ²äº† page ç­‰å‚æ•°å¹¶ç»‘å®šç›¸åº”çš„ç»„ä»¶å±æ€§ä¸Šï¼Œå¦‚ <code>v-model:current-page</code></li>
<li>el æš´éœ²äº† emit ï¼Œå¹¶ç»‘å®šåˆ° <code>@current-change</code>ï¼Œå‘ç”Ÿæ”¹å˜å°±ä¼šè°ƒç”¨å¤–éƒ¨çš„ <code>getList</code> é‡æ–°è·å–åˆ—è¡¨æ•°æ®</li>
</ul>
<hr>
<p><strong>æ·»åŠ  Tag æ </strong></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">min-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200px<span class="token punctuation">"</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Tag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123; row &#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-tag</span>
                <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tag in row.tag<span class="token punctuation">"</span></span>
                <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tag<span class="token punctuation">"</span></span>
                <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span>
                <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mr-4<span class="token punctuation">"</span></span>
                <span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>/tag/<span class="token punctuation">'</span> + tag.slug<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>link-type<span class="token punctuation">"</span></span>
                         <span class="token punctuation">></span></span>&#123;&#123; tag.title &#125;&#125;
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-tag</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åœ¨ <code>getList()</code> ä¸­æˆåŠŸç”Ÿæˆæµ‹è¯•æ•°æ®ï¼Œä½¿ç”¨éšæœºçš„æ–¹æ³•ğŸŸ¢</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getPostList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> d <span class="token keyword">in</span> data<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// console.log(data[d]);</span>
        data<span class="token punctuation">[</span>d<span class="token punctuation">]</span><span class="token punctuation">.</span>timestamp <span class="token operator">=</span> <span class="token function">parseTime2</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>d<span class="token punctuation">]</span><span class="token punctuation">.</span>createAt<span class="token punctuation">)</span><span class="token punctuation">;</span>
        data<span class="token punctuation">[</span>d<span class="token punctuation">]</span><span class="token punctuation">.</span>tag <span class="token operator">=</span>
            Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span>
            <span class="token operator">?</span> <span class="token punctuation">[</span>
            <span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token string">"ç”Ÿæ´»"</span><span class="token punctuation">,</span> slug<span class="token operator">:</span> <span class="token string">"ç”Ÿæ´»"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token string">"è¯»ä¹¦"</span><span class="token punctuation">,</span> slug<span class="token operator">:</span> <span class="token string">"è¯»ä¹¦"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
        <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token string">"ç§‘æŠ€"</span><span class="token punctuation">,</span> slug<span class="token operator">:</span> <span class="token string">"ç§‘æŠ€"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ğŸ”´å¯¹æ¯ä¸ªæ–‡ç« è¯·æ±‚æ ‡ç­¾ï¼Œæ€§èƒ½å¤ªä½</p>
<p><del>ç›´æ¥åœ¨åç«¯æŸ¥è¯¢ <code>getPostList()</code> çš„æ—¶å€™è¿›è¡Œ<strong>è¿è¡¨æŸ¥è¯¢</strong>ã€‚</del></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select p.id, p.title, p.description, p.createAt, t.* 
from post p , post_has_tag  pt, tag t
where p.id &#x3D; pt.post_id  and pt.tag_id &#x3D; t.id;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><strong>ä½¿ç”¨ mybatis @Many æ³¨è§£å¤„ç†ä¸€å¯¹å¤šå…³ç³»</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202209241254152.png" alt="image-20220924125433368"></p>
<p><a target="_blank" rel="noopener" href="https://medium.com/@hsvdahiya/mybatis-annotations-result-mapping-spring-79944ff74b84">MyBatis Spring Annotationsâ€Šâ€”â€ŠResult Mapping | Medium | Medium</a></p>
<p>ä¿®æ”¹ Post ç±»ï¼Œæ·»åŠ ä¸€ä¸ª <code>List&lt;Tag&gt;</code> å­—æ®µã€‚</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/**
     * ã€æ–°ã€‘è¿”å›æ–‡ç« åˆ—è¡¨
     * @return è¿”å›å«æœ‰æ ‡ç­¾åˆ—è¡¨ä¿¡æ¯çš„å¤šä¸ªæ–‡ç« (ä¸å«å†…å®¹)
     */</span>
    <span class="token annotation punctuation">@Results</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>property <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> column <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>property <span class="token operator">=</span> <span class="token string">"title"</span><span class="token punctuation">,</span> column <span class="token operator">=</span> <span class="token string">"title"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>property <span class="token operator">=</span> <span class="token string">"description"</span><span class="token punctuation">,</span> column <span class="token operator">=</span> <span class="token string">"description"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// @Result(property = "content", column = "content"),</span>
            <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>property <span class="token operator">=</span> <span class="token string">"createAt"</span><span class="token punctuation">,</span> column <span class="token operator">=</span> <span class="token string">"createAt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>property <span class="token operator">=</span> <span class="token string">"tagList"</span><span class="token punctuation">,</span> column <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> many <span class="token operator">=</span> <span class="token annotation punctuation">@Many</span><span class="token punctuation">(</span>select <span class="token operator">=</span> <span class="token string">"selectTagsForPost"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"select id, title, description, createAt from post"</span><span class="token punctuation">)</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Post</span><span class="token punctuation">></span></span> <span class="token function">getPostList3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * ã€æ–°ã€‘æŸ¥è¯¢ä¸€ä¸ªæ–‡ç« 
     * @param post_id
     * @return è¿”å›å¸¦æœ‰æ ‡ç­¾åˆ—è¡¨çš„å•ä¸ªPostå¯¹è±¡
     */</span>
    <span class="token annotation punctuation">@Results</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>property <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> column <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>property <span class="token operator">=</span> <span class="token string">"title"</span><span class="token punctuation">,</span> column <span class="token operator">=</span> <span class="token string">"title"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>property <span class="token operator">=</span> <span class="token string">"description"</span><span class="token punctuation">,</span> column <span class="token operator">=</span> <span class="token string">"description"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>property <span class="token operator">=</span> <span class="token string">"content"</span><span class="token punctuation">,</span> column <span class="token operator">=</span> <span class="token string">"content"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>property <span class="token operator">=</span> <span class="token string">"createAt"</span><span class="token punctuation">,</span> column <span class="token operator">=</span> <span class="token string">"createAt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>property <span class="token operator">=</span> <span class="token string">"tagList"</span><span class="token punctuation">,</span> column <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> many <span class="token operator">=</span> <span class="token annotation punctuation">@Many</span><span class="token punctuation">(</span>select <span class="token operator">=</span> <span class="token string">"selectTagsForPost"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"select * from post where id = #&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token class-name">Post</span> <span class="token function">selectPost</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token keyword">long</span> post_id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * æŸ¥è¯¢å•ä¸ªæ–‡ç« çš„æ ‡ç­¾ @Resultså¯ä»¥çœç•¥å› ä¸ºå±æ€§å’Œå­—æ®µåŒå
     * @param post_id
     * @return è¿”å›æ ‡ç­¾åˆ—è¡¨
     */</span>
    <span class="token annotation punctuation">@Results</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>property <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> column <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>property <span class="token operator">=</span> <span class="token string">"title"</span><span class="token punctuation">,</span> column <span class="token operator">=</span> <span class="token string">"title"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>property <span class="token operator">=</span> <span class="token string">"slug"</span><span class="token punctuation">,</span> column <span class="token operator">=</span> <span class="token string">"slug"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"select tag.* from tag, post_has_tag pt where pt.post_id = #&#123;pid&#125; &amp;&amp; pt.tag_id = tag.id"</span><span class="token punctuation">)</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Tag</span><span class="token punctuation">></span></span> <span class="token function">selectTagsForPost</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"pid"</span><span class="token punctuation">)</span> <span class="token keyword">long</span> post_id<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å› ä¸ºåœ¨åç«¯çš„ Post ç±»ä¸­ä½¿ç”¨äº† <code>@JsonProperty()</code> ï¼Œåœ¨å‰ç«¯æ³¨é‡Šæ‰æµ‹è¯•æ•°æ®å°±èƒ½å¤Ÿç›´æ¥æ˜¾ç¤ºæ ‡ç­¾ã€‚</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@JsonProperty</span><span class="token punctuation">(</span><span class="token string">"tag"</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Tag</span><span class="token punctuation">></span></span> tagList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
   * Get taglist
   * @return taglist
   **/</span>
<span class="token annotation punctuation">@Schema</span><span class="token punctuation">(</span>example <span class="token operator">=</span> <span class="token string">"[&#123;id:1, title:'ç§‘æŠ€', slug:'ç§‘æŠ€'&#125;]"</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span>

<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Tag</span><span class="token punctuation">></span></span> <span class="token function">getTagList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> tagList<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">public</span> <span class="token class-name">Post</span> <span class="token function">setTagList</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Tag</span><span class="token punctuation">></span></span> tags<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Tag</span> tag <span class="token operator">:</span> tags<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        tagList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="Article-Detail"><a href="#Article-Detail" class="headerlink" title="Article Detail"></a>Article Detail</h3><ol>
<li><p>é€šè¿‡ ref å±æ€§æ¥è·å– <code>&lt;el-form&gt;</code> çš„å¼•ç”¨ï¼Œä»è€Œåœ¨æäº¤è¡¨å•çš„æ–¹æ³•ä¸­éªŒè¯è¾“å…¥å€¼ <code>postFormRef.value.validate()</code> ï¼ˆ<code>el-form</code> çš„ç‰¹æ®Šç”¨æ³• <a target="_blank" rel="noopener" href="https://element-plus.org/zh-CN/component/form.html#form-%E6%96%B9%E6%B3%95">æ–‡æ¡£</a>ï¼‰</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script&gt;
&#x2F;&#x2F; component ref
const postFormRef &#x3D; ref();
&lt;&#x2F;script&gt;
&lt;template&gt;
&lt;el-form
         ref&#x3D;&quot;postFormRef&quot;
         :model&#x3D;&quot;postForm&quot;
         :rules&#x3D;&quot;rules&quot;
         class&#x3D;&quot;form-container&quot;
         &gt;
    &lt;&#x2F;el-form&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://element-plus.org/zh-CN/component/notification.html">Notification é€šçŸ¥</a></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ElNotification <span class="token keyword">as</span> Notify <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"element-plus"</span><span class="token punctuation">;</span>

Notify<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    title<span class="token operator">:</span> <span class="token string">"æˆåŠŸ"</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">"å‘å¸ƒæ–‡ç« æˆåŠŸ"</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>ä¼ å…¥çš„å‚æ•°ä¸èƒ½ç›´æ¥è®¿é—®ï¼Œéœ€è¦å£°æ˜ä¸€ä¸ª props å¸¸é‡</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// props</span>
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> isEdit<span class="token operator">:</span> <span class="token punctuation">&#123;</span> type<span class="token operator">:</span> Boolean<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>isEdit<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>Composition API é£æ ¼çš„è®¡ç®—å±æ€§ Getter / Setter<br><a target="_blank" rel="noopener" href="https://vuejs.org/guide/essentials/computed.html#writable-computed">Computed Properties | Vue.js (vuejs.org)</a></p>
</li>
<li><p>åœ¨ <code>submitForm</code> æ–¹æ³•ä¸­è¿›è¡Œè¡¨å•å€¼éªŒè¯åï¼Œè°ƒç”¨ <code>createPost()</code> æ–¹æ³•ä¹Ÿéœ€è¦ <code>await</code> ï¼Œå¹¶ä¸”éœ€è¦ä¿®æ”¹ä¼ å…¥å€¼çš„å±æ€§ã€‚</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> timestamp <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"display_time"</span><span class="token punctuation">,</span> postForm<span class="token punctuation">.</span>value<span class="token punctuation">.</span>display_time<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>postForm<span class="token punctuation">.</span>value<span class="token punctuation">.</span>display_time <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>postForm<span class="token punctuation">.</span>value<span class="token punctuation">.</span>display_time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">submitForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    postFormRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">valid</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
     	<span class="token keyword">if</span> <span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            
            <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
                content<span class="token operator">:</span> postForm<span class="token punctuation">.</span>value<span class="token punctuation">.</span>content<span class="token punctuation">,</span>
                title<span class="token operator">:</span> postForm<span class="token punctuation">.</span>value<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
                description<span class="token operator">:</span> postForm<span class="token punctuation">.</span>value<span class="token punctuation">.</span>content_short<span class="token punctuation">,</span>
                createAt<span class="token operator">:</span> timestamp<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
            
            <span class="token keyword">await</span> <span class="token function">createPost</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"submit failed"</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
            
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>æäº¤æˆåŠŸåéœ€è¦é‡ç½®è¡¨å•ï¼Œé˜²æ­¢ <code>v-md-editor</code> ç»„ä»¶ no propertiy hide æŠ¥é”™</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// é‡ç½®è¡¨å•</span>
postFormRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">resetFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
<li><p>æ ¹æ® <code>isEdit</code> è¯·æ±‚æ•°æ®ï¼Œå®ç°æ›´æ–°åŠŸèƒ½ã€‚</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>isEdit<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> id <span class="token operator">=</span> route<span class="token punctuation">.</span>params <span class="token operator">&amp;&amp;</span> route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"id "</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">fetchData</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">await</span> <span class="token function">getPostById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// console.log("res.data", data);</span>

      postForm<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        title<span class="token operator">:</span> data<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
        id<span class="token operator">:</span> data<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        content<span class="token operator">:</span> data<span class="token punctuation">.</span>content<span class="token punctuation">,</span>
        content_short<span class="token operator">:</span> data<span class="token punctuation">.</span>description<span class="token punctuation">,</span>
        display_time<span class="token operator">:</span> <span class="token function">parseTime2</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>createAt<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ol>
<h2 id="åŠŸèƒ½å®ç°"><a href="#åŠŸèƒ½å®ç°" class="headerlink" title="åŠŸèƒ½å®ç°"></a>åŠŸèƒ½å®ç°</h2><h3 id="å…¨å±€ç™»å½•æ‹¦æˆª"><a href="#å…¨å±€ç™»å½•æ‹¦æˆª" class="headerlink" title="å…¨å±€ç™»å½•æ‹¦æˆª"></a>å…¨å±€ç™»å½•æ‹¦æˆª</h3><p><a target="_blank" rel="noopener" href="https://router.vuejs.org/guide/advanced/navigation-guards.html#global-before-guards">Navigation Guards | Vue Router (vuejs.org)</a></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// router/index.js</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> userToken <span class="token operator">=</span> window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>
    <span class="token comment">// make sure the user is authenticated</span>
    <span class="token operator">!</span>userToken <span class="token operator">&amp;&amp;</span>
    <span class="token comment">// â—ï¸ Avoid an infinite redirect</span>
    to<span class="token punctuation">.</span>name <span class="token operator">!==</span> <span class="token string">"Login"</span>
  <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// redirect the user to the login page</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">"Login"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="ç™»å½•é€»è¾‘"><a href="#ç™»å½•é€»è¾‘" class="headerlink" title="ç™»å½•é€»è¾‘"></a>ç™»å½•é€»è¾‘</h3><p>ç™»å½•åŠŸèƒ½è°ƒç”¨é¡ºåºï¼š</p>
<ol>
<li><code>login/index.vue</code> ä¸­ç‚¹å‡»æŒ‰é’®</li>
<li>è°ƒç”¨å¤„ç†æ–¹æ³• <code>handleLogin()</code> ï¼ŒéªŒè¯è¾“å…¥å€¼åˆæ³•åè°ƒç”¨ <code>userStore</code> ä¸­çš„ <code>login</code> æ–¹æ³•ï¼Œå¤„ç†è¿”å›çš„ Promise</li>
<li><code>userStore</code> ä¸­çš„ <code>login</code> æ–¹æ³•ä¼šè°ƒç”¨ <code>@/api/user.js</code> ä¸­çš„ <code>login</code> æ¥å£</li>
<li>api æ¥å£ä¼šä½¿ç”¨å°è£…çš„ <code>@/utils/request</code> å‘ mock server å‘èµ·è¯·æ±‚ï¼Œè¯¥è¯·æ±‚ä¼šè§£æåˆ° <code>@/mock/user.js</code> ï¼Œæœ€åä¼šè¿”å›ç™»å½•åçš„ token</li>
</ol>
<h3 id="æ¢ç”¨-Spring-Boot-API"><a href="#æ¢ç”¨-Spring-Boot-API" class="headerlink" title="æ¢ç”¨ Spring Boot API"></a>æ¢ç”¨ Spring Boot API</h3><ul>
<li>å¦‚æœä¸éœ€è¦å…¨å±€çŠ¶æ€ï¼Œä¾‹å¦‚é¦–é¡µçš„æ–‡ç« åˆ—è¡¨å°±ç›´æ¥è°ƒç”¨ <code>/api/article.js</code></li>
<li>ç»„ä»¶ä¸­ä½¿ç”¨è¯·æ±‚çš„æ—¶å€™éœ€è¦ <code>async / await</code></li>
<li>åƒæ˜¯æ ‡ç­¾ç®¡ç†è¿™ç§æ¶‰åŠå¤šä¸ªç»„ä»¶çš„æƒ…å†µå°±éœ€è¦å…¨å±€çŠ¶æ€ç®¡ç† <code>/stores/TagStore.js</code></li>
</ul>
<p>ä½¿ç”¨ axios ç›´æ¥è¯·æ±‚æˆåŠŸ</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"http://127.0.0.1:8080/post"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// this.postList = data.data;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¿®æ”¹ vite é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨ proxy è½¬å‘è§£å†³è·¨åŸŸé—®é¢˜ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://zxuqian.cn/vite-proxy-config/">Vite é…ç½®ä»£ç† Proxyï¼Œé¿å…è·¨åŸŸå’Œé‡å¤ç¼–å†™urlçš„é—®é¢˜ - å³°åå‰ç«¯å·¥ç¨‹å¸ˆ (zxuqian.cn)</a></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// vite.config.js</span>
server<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    host<span class="token operator">:</span> <span class="token string">"0.0.0.0"</span><span class="token punctuation">,</span>
    port<span class="token operator">:</span> <span class="token number">5173</span><span class="token punctuation">,</span>
    open<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    cors<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

    proxy<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token string">"/v2/api"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        target<span class="token operator">:</span> <span class="token string">"http://localhost:8080"</span><span class="token punctuation">,</span>
        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token function-variable function">rewrite</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token operator">=></span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/v2\/api</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åœ¨ <code>request.js</code> ä¸­ä¿®æ”¹ <code>service.interceptors.response.use()</code> æ–¹æ³•ï¼Œè·³è¿‡å¤„ç†è¿”å›ä»£ç ã€‚</p>
<p>åœ¨ <code>/api/article.js</code> ä¸­æ·»åŠ è¯·æ±‚æ¥å£</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getPostList</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    url<span class="token operator">:</span> <span class="token string">"/v2/api/post"</span><span class="token punctuation">,</span>
    method<span class="token operator">:</span> <span class="token string">"get"</span><span class="token punctuation">,</span>
    data<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="å·¥å…·ç±»"><a href="#å·¥å…·ç±»" class="headerlink" title="å·¥å…·ç±»"></a>å·¥å…·ç±»</h3><blockquote>
<p>parseTime is not a function</p>
<p>è§£å†³æ–¹æ³•å°±æ˜¯å£°æ˜å‡ºæ¥</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// list.vue</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> parseTime <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@/utils"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token function">parseTime</span><span class="token punctuation">(</span><span class="token parameter">time<span class="token punctuation">,</span> cFormat</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> <span class="token function">parseTime</span><span class="token punctuation">(</span>time<span class="token punctuation">,</span> cFormat<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="å°è£…è¯·æ±‚"><a href="#å°è£…è¯·æ±‚" class="headerlink" title="å°è£…è¯·æ±‚"></a>å°è£…è¯·æ±‚</h3><p><code>/api/request.js</code> éœ€è¦é‡ç‚¹ä¿®æ”¹</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// element-ui -> element-plus, Message -> ElMessage</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ElMessageBox<span class="token punctuation">,</span> ElMessage <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"element-plus"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> service <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  baseURL<span class="token operator">:</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VITE_VUE_APP_BASE_API</span><span class="token punctuation">,</span> <span class="token comment">// url = base url + request url</span>
  timeout<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token comment">// request timeout</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶ <code>.env</code><br><a target="_blank" rel="noopener" href="https://cn.vitejs.dev/guide/env-and-mode.html#env-files">ç¯å¢ƒå˜é‡å’Œæ¨¡å¼ | Vite å®˜æ–¹ä¸­æ–‡æ–‡æ¡£ (vitejs.dev)</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">VITE_VUE_APP_BASE_API <span class="token operator">=</span> <span class="token string">'/dev-api'</span> <span class="token comment">#æ³¨å…¥æœ¬åœ° api çš„æ ¹è·¯å¾„</span>
VITE_VUE_APP_BASE_API2 <span class="token operator">=</span> <span class="token string">'/dev-api2'</span> <span class="token comment">#æ³¨å…¥æœ¬åœ° api2 çš„æ ¹è·¯å¾„</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<hr>
<blockquote>
<p><code>request.js</code> æ˜¯åŸºäº axios çš„å°è£…ï¼Œä¾¿äºç»Ÿä¸€å¤„ç† POSTï¼ŒGET ç­‰è¯·æ±‚å‚æ•°ï¼Œè¯·æ±‚å¤´ï¼Œä»¥åŠé”™è¯¯æç¤ºä¿¡æ¯ç­‰ã€‚</p>
<p>å°è£…äº†å…¨å±€ <code>requestæ‹¦æˆªå™¨</code>ã€<code>responseæ‹¦æˆªå™¨</code>ã€<code>ç»Ÿä¸€çš„é”™è¯¯å¤„ç†</code>ã€<code>ç»Ÿä¸€åšäº†è¶…æ—¶å¤„ç†</code>ã€<code>baseURLè®¾ç½®ç­‰</code>ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://panjiachen.github.io/vue-element-admin-site/zh/guide/essentials/server.html#%E5%89%8D%E7%AB%AF%E8%AF%B7%E6%B1%82%E6%B5%81%E7%A8%8B">å’ŒæœåŠ¡ç«¯è¿›è¡Œäº¤äº’ | vue-element-admin (panjiachen.github.io)</a></p>
</blockquote>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/vue/" rel="tag"><i class="fa fa-tag"></i> vue</a>
              <a href="/tags/web/" rel="tag"><i class="fa fa-tag"></i> web</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/09/28/Spring%E6%A6%82%E5%BF%B5/" rel="prev" title="Spring æ¦‚å¿µç ”ç©¶">
                  <i class="fa fa-chevron-left"></i> Spring æ¦‚å¿µç ”ç©¶
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>







<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Nova-mist</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.4.0/pjax.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '.page-configurations',
    '.main-inner',
    '.post-toc-wrap',
    '.languages',
    '.pjax'
  ],
  analytics: false,
  cacheBust: false,
  scrollRestoration: false,
  scrollTo: !CONFIG.bookmark.enable
});

document.addEventListener('pjax:success', () => {
  pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  const hasTOC = document.querySelector('.post-toc');
  document.querySelector('.sidebar-inner').classList.toggle('sidebar-nav-active', hasTOC);
  document.querySelector(hasTOC ? '.sidebar-nav-toc' : '.sidebar-nav-overview').click();
  NexT.utils.updateSidebarPosition();
});
</script>


  






  



    <div class="pjax">


    </div>
</body>
</html>
